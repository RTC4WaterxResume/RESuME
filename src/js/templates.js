angular.module("miller").run(["$templateCache", function($templateCache) {$templateCache.put("/static/templates/author.edit.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h2>{{author.fullname}}</h2>\n<form ng-submit=\"save()\">\n  <div class=\"row\">\n    <div class=\"col-sm-6\">\n    <p>\n    <label>\n      <span translate=\"field.label.firstname\"></span>\n    </label>\n    <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'author.metadata.firstname\'  type=\'text\'></textarea>\n    </p>\n    </div>\n    <div class=\"col-sm-6\">\n    <p>\n    <label>\n      <span translate=\"field.label.lastname\"></span>\n    </label>\n    <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'author.metadata.lastname\'  type=\'text\'></textarea>\n    </p>\n    </div>\n  </div>\n  \n\n  <p>\n  <label>\n    <span translate=\"field.label.affiliation\"></span>\n  </label>\n  <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'author.affiliation\'  type=\'text\'></textarea>\n  </p>\n\n  <p>\n  <label>\n    <span translate=\"field.label.bio\"></span>\n  </label>\n  <textarea class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'author.metadata.biography\'  type=\'text\' placeholder=\'short biography\'></textarea>\n  </p>\n\n  <div class=\"btn-line-group primary\">\n  <button class=\"btn-line\" type=\"submit\">\n    <span ng-if=\'!isSaving\' translate=\'button.save\'></span>\n    <span ng-if=\'isSaving\' translate=\'button.issaving\'></span>\n  </button>\n  </div>\n</form>\n</div>\n</div>");
$templateCache.put("/static/templates/author.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h2>{{author.fullname}}</h2>\n    <div class=\'affiliation sans-serif\' embedit=\'author.affiliation\' language=\'language\'></div>\n    \n    <div embedit=\'author.metadata.biography\' markdown=\'true\' language=\'language\'></div>\n    \n    <div ui-view></div>\n  \n    <div ng-if=\'isMe || user.is_staff\' class=\'actions\'>\n      <div class=\'btn-line-group primary\'>\n        <button ui-sref=\'modifyauthor({slug: author.slug})\' class=\'btn-line\' translate=\"button.edit.author\"></button>\n      </div>\n    </div>\n    \n  </div>\n</div>");
$templateCache.put("/static/templates/author.publications.html","\n\n<h3 ng-if=\'isMe\' translate=\"me.publications\"></h3>\n<h3 ng-if=\'!isMe\' translate=\"latest publications\"></h3>\n<!-- Nav tabs -->\n  <ul class=\'nav nav-tabs\'>\n    <li role=\"presentation\" ui-sref-active=\"active\" >\n      <a href ui-sref=\'author.publications.all\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.all.label\"></a>\n    </li>\n    <li ng-repeat=\'link in urls\' role=\"presentation\" ui-sref-active=\"active\">\n      <a href ui-sref=\'author.publications.{{link.slug}}({username: author.profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"{{link.name}}\"></a>\n    </li>\n    \n    <li ng-if=\'isMe\' ui-sref-active=\"active\">\n      <a href ui-sref=\'author.publications.drafts({username: author.profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"drafts\"></a>\n    </li>\n    <li ng-if=\'isMe\' ui-sref-active=\"active\">\n      <a href ui-sref=\'author.publications.bin({username: author.profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"bin\"></a>\n    </li>\n  </ul>\n  \n\n<div ui-view></div>\n");
$templateCache.put("/static/templates/authors.html","\n<h2 translate=\"headline.authors\"></h2>\n<ul class=\"nav nav-tabs ng-scope\">\n</ul>\n<div ui-view>\n  <div class=\'post\' ng-repeat=\'profile in items\'>\n    <div class=\'wrapper\'>\n      <div ng-if=\"!$first\" class=\"divider ng-scope\"></div>\n      <div class=\'tags\'><span class=\'tag\'>author</span></div>\n      <h3><a ui-sref=\"author.publications({username: profile.user.username})\">{{profile.user.first_name}} {{profile.user.last_name}}</a></h3>\n      <div class=\'type\'>{{profile.user.username}}</div>\n      <div markdown=\'profile.bio|| \"...\"\'></div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/blog.html","<div class=\'container\'>\n<div class=\'view\'>\n<div class=\'row\'>\n<div class=\'col-lg-8\'>\n  <div>\n    <h1 translate=\"headline.blog.title\"></h1>\n\n    <!-- <blockquote translate=\"headline.blog.abstract\"></blockquote> -->\n\n    </div>\n  </div>\n</div>\n<!-- Nav tabs -->\n<ul class=\"nav nav-tabs\" role=\"tablist\">\n  <li role=\"presentation\" ui-sref-active=\"active\"><a href ui-sref=\'blog.event\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.blog.events.label\"></a></li>\n  <li role=\"presentation\" ui-sref-active=\"active\"><a href ui-sref=\'blog.news\' aria-controls=\"profile\" role=\"tab\" data-toggle=\"tab\" translate=\"state.blog.news.label\"></a></li>\n</ul>\n\n<div ui-view></div>\n</div>\n</div>");
$templateCache.put("/static/templates/collection.html","<div class=\"collection\" ng-class=\'state|statetoclass\'>\n\n  \n\n  <div class=\'container\'>\n    <div class=\"view\">\n      \n\n      <div class=\"actions\" ng-if=\'state==\"collection\"\'>\n        <div ng-if=\'collection.isWritable\' class=\'btn-line-group primary\'>\n          <button  class=\'btn-line\' nref ui-sref=\'writing({storyId:collection.slug})\'>edit</button>\n        </div>\n\n        <div ng-if=\'user.is_staff\' class=\'btn-line-group\'>\n          <button class=\'btn-line\' ng-click=\'setStatus(\"draft\")\' ng-class=\'{\"active warning\": collection.status==\"draft\"}\' translate=\"collection.status.draft\"></button>\n          <button class=\'btn-line\' ng-click=\'setStatus(\"public\")\' ng-class=\'{\"active\": collection.status==\"public\"}\' translate=\"story.status.public\"></button>\n        </div>\n      </div>\n    </div>\n\n\n  </div>\n  \n  \n\n  <div class=\'container\'>\n    <div class=\'row\'>\n      <div class=\'col-md-12\'>\n        <div class=\"tags\" >\n          <!-- <span ng-if=\"collection.tags.length\" class=\'tag sans-serif\' ng-repeat=\'tag in collection.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span> -->\n          <span class=\'tag sans-serif\'>\n            <span class=\'tag writing\'><a ui-sref=\'publications.collection\'>collection</a></span>\n          </span>\n        </div>\n        <h1 class=\'collection-title\'><a ui-sref=\'collection({storyId:collection.slug})\' embedit=\'collection.metadata.title\' language=\'language\'></a></h1>\n        \n        <!-- <div class=\'authors\' ng-if=\"collection.authors.length\">\n          by <span ng-repeat=\'author in collection.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n        </div> -->\n        \n      </div>\n    </div>\n\n    <!-- <div class=\'row\'>\n      <div class=\'col-md-12\'>\n        <h1 embedit=\'collection.metadata.title\' language=\'language\'></h1>\n        <blockquote embedit=\'collection.metadata.abstract\' language=\'language\'></blockquote>\n      </div>\n    </div> -->\n  </div>\n\n\n  \n  <div class=\'container\' style=\"\">\n    <div class=\'row\'>\n      <div class=\"col-sm-12\">\n        <ul class=\'pagination\'>\n          <li ui-sref-active=\"active\" class=\'special\'>\n            <a ui-sref=\'collection({storyId:collection.slug})\' translate=\'index\'>&nbsp;</a>\n          </li>\n          <li ui-sref-active=\"active\" ng-repeat=\"story in chapters\">\n            <a ui-sref=\'collection.story({storyId:story.slug})\'>{{$index + 1}}</a>\n          </li>\n\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <div ui-view  >\n    <div class=\'container\'>\n    <div class=\"cover-wrapper\" ng-if=\'collection.cover\'>\n      <div class=\'image-wrapper cover\' lazy-img=\'{{collection.cover.attachment || collection.cover.metadata.preview || collection.cover.metadata.urls.Preview || collection.cover.metadata.thumbnail_url || collection.cover.metadata.url }}\'></div>\n      <div class=\'metadata-wrapper\' ng-init=\'document=collection.cover\' ng-include=\'\"templates/partials/document.metadata.linear.html\"|prefixTemplate\'\'></div>\n    </div>\n    </div>\n    <div class=\'container\'>\n      <div class=\'row\'>\n        <div class=\"col-sm-12\">\n        <p class=\'collection-abstract\' embedit=\'collection.metadata.abstract\' language=\'language\'></p>\n        </div>\n      </div>\n    </div>\n    <div  ng-repeat=\"story in chapters\">\n      <div class=\'container\'>\n        <div class=\"chapter\" ng-class=\'{\"last\": $last}\'>\n\n          <a class=\"number\" ui-sref=\'collection.story({storyId:story.slug})\'>{{$index + 1}}</a>\n          <div class=\'col-md-6\'>\n            <div class=\"inner\">\n              <div class=\"divider\"></div>\n              <div class=\"tags\" ng-if=\"story.tags.length\">\n                <span class=\"tag\" ng-repeat=\'tag in story.tags|filter:{ category: \"writing\", status:\"public\" }\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n              </div>\n              <h2><a ui-sref=\'collection.story({storyId:story.slug})\' embedit=\'story.metadata.title\' language=\'language\'></a></h2>\n              <blockquote embedit=\'story.metadata.abstract\' language=\'language\'></blockquote>\n            </div>\n          </div>\n          <div class=\'col-md-6\' style=\'padding:0\'>&nbsp;\n            <div ng-if=\'story.covers.length\' class=\"cover\" ng-repeat=\'document in story.covers\' class=\'fluid-container\'>\n              <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \n  </div>\n</div>");
$templateCache.put("/static/templates/collection.story.html","<div class=\"story\">\n  \n\n  \n\n  <div class=\'overlay\'>\n    <div class=\'container\'>\n      \n\n      <div class=\'row\'>\n        <div class=\'col-md-12\'>\n\n          <div class=\"actions\" >\n            <div ng-if=\'story.isWritable\' class=\'btn-line-group primary\'>\n              <button  class=\'btn-line\' nref ui-sref=\'writing({storyId:story.slug})\'>edit</button>\n            </div>\n\n            <div ng-if=\'user.is_staff\' class=\'btn-line-group\'>\n              <button class=\'btn-line\' ng-click=\'setStatus(\"draft\")\' ng-class=\'{\"active warning\": story.status==\"draft\"}\' translate=\"collection.status.draft\"></button>\n              <button class=\'btn-line\' ng-click=\'setStatus(\"public\")\' ng-class=\'{\"active\": story.status==\"public\"}\' translate=\"story.status.public\"></button>\n            </div>\n          </div>\n\n          <h1><span class=\"\" embedit=\'story.metadata.title\' language=\'language\'></span></h1>\n          \n          <!-- story reference and cite as buttons -->\n          <div embedit=\'story.metadata.reference\' ng-if=\'story.metadata.reference\' markdown=\'true\' language=\'language\'></div>\n          \n          <!-- social share buttons: -->\n          <div ng-if=\'story.status == \"public\"\' ng-include=\'\"templates/partials/story.socialshare.html\"|prefixTemplate\'></div>\n\n          \n          <blockquote embedit=\'story.metadata.abstract\' language=\'language\'></blockquote>\n          <div class=\'authors\' ng-if=\"story.authors.length\">\n            by <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n          </div>\n\n\n        </div>\n\n        \n      </div>\n      <div ng-if=\'story.covers.length\' class=\"main cover\" ng-repeat=\'document in story.covers\'>\n        <!-- <div class=\'row\'>\n          <div class=\'col-md-8\'> -->\n          <div class=\'cover-oembed\' rich-oembed fullscreen=\'fullsize(document.slug)\' autoplay=\'true\' oembed=\'document.metadata\' cover=\'document.metadata.media_url || document.metadata.urls.Publishable || document.metadata.urls.Preview || document.metadata.thumbnail_url || document.snapshot || document.metadata.url\'></div>\n          \n          <!-- </div> -->\n          \n          <!-- <div class=\'col-md-4\'> -->\n          <div class=\'metadata-wrapper\' ng-include=\'\"templates/partials/document.metadata.html\"|prefixTemplate\'\'></div>\n          \n          <!-- </div> -->\n        <!-- </div> -->\n        </div>\n     <!--  <div ng-if=\'story.covers.length\' class=\"main cover\" ng-repeat=\'document in story.covers\'>\n\n          <div class=\'cover-oembed\' rich-oembed fullscreen=\'fullsize(document.slug)\' autoplay=\'true\' oembed=\'document.metadata\' cover=\'document.metadata.media_url || document.metadata.urls.Publishable || document.metadata.urls.Preview || document.metadata.thumbnail_url || document.metadata.url\'></div>\n         \n            <div class=\'metadata-wrapper\' ng-include=\'\"templates/partials/document.metadata.html\"|prefixTemplate\'\'></div>\n      \n      </div> -->\n\n\n      <div class=\'row\' style=\'margin-bottom: 50px\'>\n        <div  ng-class=\'{\"col-md-12\": !documents.length, \"col-md-8 col-lg-7\": documents.length}\'>\n          <div class=\"contents\">\n            <div markdownit=\'story.contents\' language=\'language\' listener=\'listener(event, data, callback)\' settoc=\'setToC(ToC)\' setdocs=\'setDocuments(items)\'></div>\n          </div>\n        </div>\n        <div class=\'col-md-4 col-lg-5\' ng-if=\'documents.length\' respect-previous-sibling update=\"documents\">\n          <div sliding-steps data-language=\'language\' data-focus=\'focusedIdx\' style=\'height:100%\' items=\'documents\'></div>\n        </div>\n      </div>\n      <!-- <div style=\'margin-top: 50px\' disqus=\"story.slug\"></div> -->\n    </div>\n  </div>\n</div>\n");
$templateCache.put("/static/templates/draft.html","<div class=\'container\'>\n<div class=\'view\'>\n  <p>\n    <label>\n      <span translate=\"field.label.title\"></span>\n    </label>\n    <textarea id=\'draft-title\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'title\'   type=\'text\' placeholder=\'Untitled\'></textarea>\n  </p>\n  <p>\n    <label>\n      <span translate=\"field.label.abstract\"></span>\n    </label>\n    <textarea id=\'draft-abstract\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'abstract\' type=\'text\' placeholder=\'abstract\'></textarea>\n  </p>\n\n  <div class=\'actions\'>\n    <div class=\'btn-line-group primary\'>\n      <button ng-click=\'save()\' class=\'btn-line\'><span translate=\"button.create\"></span></button>\n    </div>\n  </div>\n</div>\n</div>");
$templateCache.put("/static/templates/events.html","<h2>events</h2>\n<!-- Nav tabs -->\n<ul class=\"nav nav-tabs\" role=\"tablist\">\n  <li role=\"presentation\" ui-sref-active=\"active\"><a href ui-sref=\'events.everything\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">everything</a></li>\n  <li role=\"presentation\" ui-sref-active=\"active\"><a href ui-sref=\'events.events\' aria-controls=\"profile\" role=\"tab\" data-toggle=\"tab\">working seminars</a></li>\n</ul>\n\n<div ui-view></div>");
$templateCache.put("/static/templates/index.html","<div class=\"container\">\n<div class=\"view\">\n<div class=\"row\">\n  <div class=\"col-md-8\">\n\n    <!-- CONVER STORY -->\n    <div class=\"coverstory story lite\">\n      <div class=\"tags\" ng-if=\"coverstory.tags.length\">\n        <span class=\"tag\" ng-repeat=\'tag in coverstory.tags|filter:{ category: \"writing\" }\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n      </div>\n\n      <h3>\n        <a ng-if=\'!story.is_collection\' href ui-sref=\"story({postId: coverstory.slug})\" embedit=\'coverstory.metadata.title\' language=\'language\'></a>\n        <a ng-if=\'story.is_collection\' href ui-sref=\"collection({collectionId: coverstory.slug})\" embedit=\'coverstory.metadata.title\' language=\'language\'></a>\n      </h3>\n      <div class=\'authors\' ng-if=\"coverstory.authors.length\">\n        by <span ng-repeat=\'author in coverstory.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n      </div>\n      <blockquote>\n        <span embedit=\'coverstory.excerpt\' language=\'language\'></span>\n        <a ng-if=\'!coverstory.is_collection\' href ui-sref=\"story({postId: coverstory.slug})\"><span class=\'icon-arrow-right-circle\'></span></a>\n        <a ng-if=\'coverstory.is_collection\' href ui-sref=\"collection({collectionId: coverstory.slug})\"><span class=\'icon-arrow-right-circle\'></span></a>\n      </blockquote>\n      \n      <div ng-if=\'coverstory.covers.length\' ng-repeat=\'document in coverstory.covers\' class=\'cover-wrapper\'>\n        <div class=\'cover-oembed\' rich-oembed fullscreen=\'fullsize(document.slug)\' autoplay=\'true\' oembed=\'document.metadata\' cover=\'document | coverage:\"hifi\"\'></div>\n          <!-- <div class=\'cover\' style=\'background-size: cover; height:300px; background-image:url({{coverstory.cover}})\' ></div> -->\n      </div>\n      \n    </div>\n\n    \n    <div class=\"row\">\n    <!-- REMAINING STORIES -->\n      <div ng-repeat=\'story in otherstories\' class=\"col-md-6\" ng-class-odd=\"\'clear-left\'\">\n        <div class=\"coverstory other\">\n          <div class=\"divider\"></div>\n          <div class=\"tags\" ng-if=\"story.tags.length\">\n            <span  class=\'tag\' ng-repeat=\'tag in story.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n          </div>\n          <h4>\n            <a ng-if=\'!story.is_collection\' href ui-sref=\"story({postId: story.slug})\" embedit=\'story.metadata.title\' language=\'language\'></a>\n            <a ng-if=\'story.is_collection\' href ui-sref=\"collection({collectionId: story.slug})\" embedit=\'story.metadata.title\' language=\'language\'></a>\n          </h4>\n          <div class=\'authors\' ng-if=\"story.authors.length\">\n            by <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n          </div>\n          <blockquote class=\"reduced\">\n            <span embedit=\'story.excerpt\' language=\'language\'></span>\n            <a ng-if=\'!story.is_collection\' href ui-sref=\"story({postId: story.slug})\"><span class=\'icon-arrow-right-circle\'></span></a>\n            <a ng-if=\'story.is_collection\' href ui-sref=\"collection({collectionId: story.slug})\"><span class=\'icon-arrow-right-circle\'></span></a></blockquote>\n          <div ui-sref=\"story({postId: story.slug})\" style=\'cursor:pointer\' ng-if=\'story.covers.length\' ng-repeat=\'document in story.covers\' class=\'fluid-container relative\'>\n            <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n            <div class=\'embedded-metadata\' ng-include=\'\"templates/partials/document.metadata.embedded.html\"|prefixTemplate\'></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n  <div class=\"col-md-4\">\n    <h5 class=\'lined\'><span translate=\'latest news\'></span></h5>\n    <div ng-repeat=\'story in news\'>\n      <div class=\"coverstory news\">\n        <div ng-if=\'!$first\' class=\"divider\"></div>\n        <div class=\"date\">{{story.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</div>\n        <h4>\n          <a ng-if=\'!story.is_collection\' href ui-sref=\"story({postId: story.slug})\" embedit=\'story.metadata.title\' language=\'language\'></a>\n          <a ng-if=\'story.is_collection\' href ui-sref=\"collection({collectionId: story.slug})\" embedit=\'story.metadata.title\' language=\'language\'></a>\n        </h4>\n        <div class=\'authors\' ng-if=\"story.authors.length\">\n          by <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n        </div>\n        <blockquote class=\"reduced\">\n          <span embedit=\'story.excerpt\' language=\'language\'></span>\n          <a href ui-sref=\"story({postId: story.slug})\"><span class=\'icon-arrow-right-circle\'></span></a>\n        </blockquote>\n        <div ui-sref=\"story({postId: story.slug})\" style=\'cursor:pointer\' ng-if=\'story.covers.length\' ng-repeat=\'document in story.covers\' class=\'fluid-container relative\'>\n          <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n          <div class=\'embedded-metadata\' ng-include=\'\"templates/partials/document.metadata.embedded.html\"|prefixTemplate\'></div>\n        </div>\n\n        \n      </div>\n    </div>\n\n    <div style=\'text-align: center; margin-top: 20px\'>\n      <div class=\"btn-line-group primary\">\n        <button class=\'btn-line\' ui-sref=\'blog.event\'>\n          <span translate=\'button.more.events\'></span>\n        </button>\n        <button class=\'btn-line\' ui-sref=\'blog.news\'>\n          <span translate=\'button.more.news\'></span>\n        </button>\n      </div>\n    </div>\n\n  </div>\n</div>\n</div>\n</div>");
$templateCache.put("/static/templates/items.html","<div ng-if=\'count == 0\' translate=\'items.empty\'></div>\n<div ng-if=\'model == \"story\"\' ng-repeat=\'story in items\' ng-include=\'\"templates/partials/story.html\"|prefixTemplate\'></div>\n<div ng-if=\'model == \"action\"\' ng-repeat=\'action in items\' ng-include=\'\"templates/partials/action.html\"|prefixTemplate\'></div>\n<div ng-if=\'model == \"review\"\' ng-repeat=\'review in items\' ng-include=\'\"templates/partials/review.html\"|prefixTemplate\'></div>\n<div ng-if=\'model == \"report\"\' ng-repeat=\'review in items\' ng-include=\'\"templates/partials/report.html\"|prefixTemplate\'></div>\n\n<div style=\'text-align: center\'>\n  <div ng-if=\'items.length > 0 && items.length < count\' class=\"btn-line-group primary\">\n    <button class=\'btn-line\' ng-click=\'more()\'>\n      <span ng-if=\'!isLoadingNextItems\'>\n        <span translate=\'button.more\'></span>\n        <span translate=\'missing\' translate-values=\"{count: missing}\"></span>\n      </span>\n      <span ng-if=\'isLoadingNextItems\' translate=\'button.loading\'></span>\n    </button>\n  </div>\n  <!-- when count equals item length, we are at the end -->\n</div>");
$templateCache.put("/static/templates/login.html","<div class=\"container\">\n  <div class=\"view\">\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <h1 translate=\"login\"></h1>\n\n        <form role=\"form\" name=\"loginform\" method=\"POST\">\n          <div class=\"form-group\">\n            <label for=\"id_login_username\" translate=\"username\"></label>\n            <input type=\"text\" ng-model=\'username\' class=\"form-control\" id=\"id_login_username\" autofocus=\"autofocus\" name=\"username\" placeholder=\"username\" required>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"id_login_password\" translate=\"password\"></label>\n            <input type=\"password\" ng-model=\'pwd\' class=\"form-control\" id=\"id_login_password\" placeholder=\"Password\" name=\"password\" required>\n          </div>\n\n          <div class=\'btn-line-group primary\'>\n            <button class=\"btn btn-line\" ng-click=\"login()\" translate=\'button.login\'></button>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-6 col-sm-offset-3\">\n        <h3 translate=\'signup.with.social\'></h3>\n\n        <div class=\'btn-line-group\'>\n          <a class=\'btn btn-line\' href=\'/social/login/twitter\' translate=\'button.signup.with.twitter\'></a>\n        </div>\n        <div class=\'btn-line-group\'>\n          <a class=\'btn btn-line\' href=\'/social/login/google-oauth2\' translate=\'button.signup.with.google\'></a>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/md.html","<div class=\"container\">\n<div class=\"view\">\n<div class=\'row\'>\n  <div class=\'col-md-8\'>\n    <div class=\"contents\">\n    <div markdownit=\'md\' watchlanguage=\'true\' language=\'language\' settoc=\'setToC(ToC)\'></div>\n    </div>\n  </div>\n</div>\n</div>\n</div>");
$templateCache.put("/static/templates/notfound.html","not found. \nGo back");
$templateCache.put("/static/templates/notifications.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h2 translate=\'your.notifications\'></h2>\n    <div ui-view></div>\n    \n  </div>\n</div>");
$templateCache.put("/static/templates/profile.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h1>{{profile.username}}</h1>\n    <div ng-repeat=\'author in authors\' style=\"position:relative; border-bottom:1px solid #ccc\">\n    \n      <h2>{{author.fullname}}</h2>\n      <div class=\'affiliation sans-serif\' embedit=\'author.affiliation\' language=\'language\'></div>\n      \n      <div embedit=\'author.metadata.biography\' markdown=\'true\' language=\'language\'></div>\n      \n      \n    \n      <div ng-if=\'isMe || user.is_staff\' class=\'actions\'>\n        <div class=\'btn-line-group primary\'>\n          <button ui-sref=\'modifyauthor({slug: author.slug})\' class=\'btn-line\' translate=\"button.edit.author\"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <h3 translate=\"latest publications\"></h3>\n  <!-- Nav tabs -->\n  <ul class=\'nav nav-tabs\'>\n    <li role=\"presentation\" ui-sref-active=\"active\" >\n      <a href ui-sref=\'author.publications({slug: author.slug})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.all.label\"></a>\n    </li>\n    <li ng-if=\'isMe\' ui-sref-active=\"active\">\n      <a href ui-sref=\'profile.publications({username: profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"drafts\"></a>\n    </li>\n    <li ng-if=\'isMe\' ui-sref-active=\"active\">\n      <a href ui-sref=\'profile.publications({username: profile.username})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"bin\"></a>\n    </li>\n  </ul>\n  \n\n  <div ui-view></div>\n</div>");
$templateCache.put("/static/templates/publications.html","<div class=\'container\'>\n<div class=\"view\">\n\n<h1 translate=\"headline.publications.title\"></h1>\n\n    <p translate=\"headline.publications.abstract\"></p>\n\n\n\n<!-- Nav tabs -->\n<ul class=\'nav nav-tabs\' style=\'margin-top: 20px\'>\n  <li role=\"presentation\" ui-sref-active=\"active\" >\n    <a href ui-sref=\'publications.all\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.all.label\"></a>\n  </li>\n  <li ng-repeat=\'link in urls\' role=\"presentation\" ui-sref-active=\"active\">\n    <a ng-if=\'link.preventTranslation\' href ui-sref=\'publications.{{link.slug}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">{{link.name}}</a>\n    <a ng-if=\'!link.preventTranslation\' href ui-sref=\'publications.{{link.slug}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.{{link.name}}.label\"></a>\n  </li>\n  <li ng-if=\'slug\' role=\"presentation\" ui-sref-active=\"active\" >\n    <a href ui-sref=\'publications.tags({slug: slug})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">/filter: <b>{{slug}}</b>/</a>\n  </li>\n\n  <!-- <li class=\'dropdown active secondary\'>\n    <a bs-dropdown placement=\'bottom-right\' aria-haspopup=\"true\" aria-expanded=\"false\" style=\'position:relative; padding-right: 30px\'>\n      <span class=\'inner\'>\n        <span translate=\'orderby.date\'></span>\n        <span style=\'position:absolute; right:5px; top:0\' class=\'icon icon-arrow-down-circle\'></span>\n      </span>\n    </a>\n    <ul class=\"dropdown-menu\" role=\"menu\">\n      <li ui-sref-active=\"active\"><a ui-sref=\"draft\" translate=\'write\'></a></li>\n    </ul>\n  </li> -->\n</ul>\n\n\n\n\n<div ui-view></div>\n</div>\n</div>\n\n\n<!-- <div class=\'row\'>\n  \n  <div class=\'col-md-4\'>\n    <h2 class=\'no-margin-top\' translate=\'state.{{state}}.title\'></h2>\n    <p class=\"small\" translate=\'state.{{state}}.abstract\'></p>\n  </div>\n  <div class=\'col-md-8\'>\n    <div ui-view></div>\n  </div>\n</div> -->\n");
$templateCache.put("/static/templates/review.html","\n<div ui-view>\n  <div class=\'container\'>\n  <div class=\'view review\'>\n    <div class=\"actions\" >\n      <div class=\'btn-line-group\'>\n        <button class=\'btn-line\' ui-sref=\"reviews.pending\" translate=\"button.backtoreviews\"></button>\n      </div>\n      <div class=\'btn-line-group primary\'>\n        <button class=\'btn-line\' ui-sref=\"review.story({id:review.id})\" translate=\"button.viewmode\"></button>\n      </div>\n    </div>\n\n    <h1><span translate=\"headline.review.of\"></span></h1>\n    <div class=\'reviewed\'>\n      <div class=\"date\">{{review.story.date|date:\'mediumDate\'}}</div>\n      \n      <h2><a ui-sref=\'review.story({id:review.id})\' embedit=\'review.story.metadata.title\' language=\'language\'></a></h2>\n      <blockquote ng-if=\'review.story.metadata.abstract\' embedit=\'review.story.metadata.abstract\' language=\'language\'></blockquote>\n      <div ng-if=\'!is_editable && review.category != \"editing\"\'>\n        <h2 class=\'center\' ><span translate=\'field.label.review.score\'></span> <span ng-class=\'{\"error\": !is_valid}\'>{{points}}</span> / {{fields.length * 5}}</span></h2>\n        <!-- final decision: -->\n        <h3 class=\'center\'>\n          <span translate=\'field.label.review.status.{{review.status}}\'></span>\n        </h3>\n      </div>\n    </div>\n\n    \n\n    <form class=\'generic-form-wrapper\' name=\"createForm\" novalidate>\n      <div ng-if=\'review.category != \"editing\"\' ng-repeat=\'field in fields\' style=\'margin: 10px 0 20px 0px\'>\n        <label style=\'margin-left:60px\'>\n\n          <span class=\"number\" ng-class=\'{\"active\": createForm[field].$valid, \"error\": createForm[field].$dirty && !createForm[field].$valid}\'>{{$index+1}}</span>\n            <span translate=\"field.label.{{field}}\"></span>\n          <!-- <p class=\'description\' translate=\"field.label.{{field}}.description\"></p> -->\n        </label>\n        <div rating readonly=\'!is_editable\' ng-model=\'review[field + \"_score\"]\'></div>\n        <div ng-show=\'is_editable\' class=\'elastic-textarea-wrapper\'>\n          <textarea placeholder=\'{{\"field.label.placeholder.review\" | translate}}\' class=\'elastic-textarea\' msd-elastic ng-model=\'review[field]\' name=\'{{field}}\' ng-model-options=\"{ debounce: 200 }\" ng-disabled=\'!is_editable\'></textarea>\n\n        </div>\n        <div class=\'answer\' ng-if=\'!is_editable && review[field].length\' embedit=\'review[field]\' markdown></div>\n      </div>\n\n      <div style=\'margin: 10px 0 20px 0px\'>\n        <label ng-if=\'review.category != \"editing\"\' style=\'margin-left:60px\'>\n\n          <span class=\"number\" ng-class=\'{\"active\": createForm.reviewcontentstext.$valid, \"error\": createForm.reviewcontentstext.$dirty && !createFormreviewcontentstext.$valid}\'>{{fields.length + 1}}</span>\n            <span translate=\"field.label.review.final\"></span>*\n          <p class=\'description\' translate=\"field.label.review.final.description\"></p>\n        </label>\n\n        <label ng-if=\'review.category == \"editing\"\'>\n          <span translate=\"field.label.review.final\"></span>\n          <p class=\'description\' translate=\"field.label.review.final.description\"></p>\n        </label>\n        <div ng-show=\'is_editable\' class=\'elastic-textarea-wrapper\'>\n          <textarea rows=\"5\" placeholder=\'{{\"field.label.placeholder.review\" | translate}}\' required class=\'elastic-textarea\' msd-elastic ng-model=\'review.contents.text\' name=\'reviewcontentstext\' ng-model-options=\"{ debounce: 200 }\" ng-disabled=\'!is_editable\' ></textarea>\n\n        </div>\n        <div class=\'answer\' ng-if=\'!is_editable\' embedit=\'review.contents.text\' markdown></div>\n      </div>\n\n\n      <div style=\'margin: 20px 0\'>\n        <h2 class=\'center\' ng-if=\'review.category != \"editing\"\' ><span translate=\'field.label.review.score\'></span> <span ng-class=\'{\"error\": !is_valid}\'>{{points}}</span> / {{fields.length * 5}}</span></h2>\n        <!-- final decision: -->\n        <h3 ng-if=\'!is_editable\' class=\'center\'>\n          <span translate=\'field.label.review.status.{{review.status}}\'></span>\n        </h3>\n        <div ng-if=\'is_editable && is_valid && createForm.$valid\'>\n          <p translate=\'field.label.review.final.decision\'></p>\n          <div class=\"radio\" ng-repeat=\'status in availableStatuses\'>\n            <label>\n              <input type=\"radio\"\n                ng-model=\"$parent.$parent.reviewStatus\"\n                value=\"{{status}}\"\n                name=\"reviewstatus\">\n              <span translate=\'field.label.review.status.{{status}}\'></span>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div ng-if=\'is_editable\' class=\'center\' style=\'margin: 20px 0\'>\n        <div class=\'btn-line-group primary\' ng-class=\'{\"primary\": createForm.$valid && reviewStatus != \"draft\"}\'>\n          <button class=\'btn-line\' ng-click=\'finalize(reviewStatus)\'><span translate=\'button.reviewcompleted\' translate-values=\'{is_valid: is_valid}\'></span></button>\n        </div>\n\n        <div class=\'btn-line-group\' ng-class=\'{\"primary\": reviewStatus == \"draft\"}\'>\n          <button class=\'btn-line\' ng-click=\'save()\'><span translate=\'button.savedraft\' translate-values=\'{isSaving: isSaving}\'></span></button>\n        </div>\n      </div>\n    </form>\n\n  </div>\n</div>\n</div>");
$templateCache.put("/static/templates/reviews.html","<div class=\'container\'>\n  <div class=\'view\'>\n    <h1 translate=\"headline.reviews\"></h1>\n    <blockquote translate=\"headline.reviews.abstract\"></blockquote>\n  \n    <!-- Nav tabs -->\n    <ul class=\'nav nav-tabs\'>\n      <li ng-if=\'user.is_reviewer\' role=\"presentation\" ui-sref-active=\"active\" >\n        <a href ui-sref=\'reviews.all\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.reviews.all\"></a>\n      </li>\n      \n      <li ng-if=\'user.is_reviewer\' role=\"presentation\" ui-sref-active=\"active\" >\n        <a href ui-sref=\'reviews.pending\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.reviews.pending\"></a>\n      </li>\n\n      <li role=\"presentation\" ui-sref-active=\"active\" >\n        <a href ui-sref=\'reviews.reports\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.reviews.reports\"></a>\n      </li>\n    </ul>\n\n\n<div ui-view></div>\n  </div>\n\n</div>");
$templateCache.put("/static/templates/search.html","<div class=\'container\'>\n<div class=\'view\'>\n<div class=\'row\'>\n  <div class=\'col-md-8\'>\n\n    {{count}} results for search: {{query}}\n    \n    <ul class=\"filters\">\n      <li class=\'filter\' ng-class=\'k\' ng-repeat=\"(k, v) in qs\">\n        <span ng-if=\'k == \"q\"\'>{{v}}</span>\n        <span ng-if=\'k != \"q\"\'>{{k}}: {{v}} <span ng-click=\"removeLocationFilter(k)\" class=\"icon icon-close\"></span></span>\n      </li>\n    </ul>\n  </div>\n</div>\n<!-- Nav tabs -->\n<ul class=\'nav nav-tabs\'>\n</ul>\n<div>\n  <div ng-repeat=\"story in items\"  ng-include=\'\"templates/partials/story.html\"|prefixTemplate\'></div>\n</div>\n</div>\n</div>");
$templateCache.put("/static/templates/story.html","<div class=\"story\">\n  <div class=\'container\'>\n    <div class=\"view\">\n      <div class=\"actions\" >\n        <div ng-if=\'review\' class=\'btn-line-group\'>\n          <button class=\'btn-line\' ui-sref=\"reviews.pending\" translate=\"button.backtoreviews\"></button>\n        </div>\n        <div ng-if=\'review\' class=\'btn-line-group primary\'>\n          <button class=\'btn-line\' ui-sref=\"review({id:review.id})\" translate=\'button.completereview\'></button>\n        </div>\n        <div class=\'btn-line-group primary\'>\n          <a  class=\'btn-line\' ng-href=\"/api/story/{{story.id}}/download/\" _target=\"blank\">PDF <span class=\'icon icon-cloud-download\'></span></a>\n        </div>\n        <div ng-if=\'story.isWritable && !story.isUnderReview\' class=\'btn-line-group primary\'>\n          <button  class=\'btn-line\' nref ui-sref=\'writing({storyId:story.slug})\' translate=\'edit\'></button>\n        </div>\n        \n\n        <div ng-if=\'story.isWritable && !story.isUnderReview\' class=\'btn-line-group primary\'>\n          <button  class=\'btn-line\' ng-if=\'story.status!=\"deleted\"\' ng-click=\'setStatus(\"deleted\")\' translate=\'remove\'><span class=\'icon icon-bin\'></span></button>\n          <button  class=\'btn-line\' ng-if=\'story.status==\"deleted\"\' ng-click=\'setStatus(\"draft\")\' translate=\'recover\'><span class=\'icon icon-bin\'></span></button>\n        </div>\n        \n        \n\n        <div ng-if=\'user.is_staff && !story.isUnderReview\' class=\'btn-line-group\'>\n          <button class=\'btn-line\' ng-click=\'setStatus(\"draft\")\' ng-class=\'{\"active warning\": story.status==\"draft\"}\' translate=\"story.status.draft\"></button>\n          <button class=\'btn-line\' ng-click=\'setStatus(\"public\")\' ng-class=\'{\"active\": story.status==\"public\"}\' translate=\"story.status.public\"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \n\n  <div class=\'overlay\'>\n    <div class=\'container\'>\n      <div class=\'row\'>\n        <div class=\'col-md-8\'>\n          <div class=\"tags\" >\n            <span ng-if=\"story.tags.length\" class=\'tag sans-serif\' ng-repeat=\'tag in story.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n            \n          </div>\n\n          <div class=\'authors\' ng-if=\"story.authors.length\">\n            by <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n          </div>\n\n\n        </div>\n      </div>\n\n      <div class=\'row\'>\n        <div class=\'col-md-12\'>\n          <h1 embedit=\'story.metadata.title\' language=\'language\'></h1>\n          \n          <!-- story reference and cite as buttons -->\n          <div embedit=\'story.metadata.reference\' ng-if=\'story.metadata.reference\' markdown=\'true\' language=\'language\'></div>\n          \n          <!-- social share buttons: -->\n          <div ng-if=\'story.status == \"public\"\' ng-include=\'\"templates/partials/story.socialshare.html\"|prefixTemplate\'></div>\n\n          <blockquote embedit=\'story.metadata.abstract\' language=\'language\'></blockquote>\n        </div>\n      </div>\n      \n      <div ng-if=\'story.covers.length\' class=\"main cover\" ng-repeat=\'document in story.covers\'>\n        <!-- <div class=\'row\'>\n          <div class=\'col-md-8\'> -->\n          <div class=\'cover-oembed\' rich-oembed fullscreen=\'fullsize(document.slug)\' autoplay=\'true\' oembed=\'document.metadata\' cover=\'document | coverage:\"hifi\"\'></div>\n          \n          <!-- </div> -->\n          \n          <!-- <div class=\'col-md-4\'> -->\n          <div class=\'metadata-wrapper\' ng-include=\'\"templates/partials/document.metadata.linear.html\"|prefixTemplate\'\'></div>\n          <!-- </div> -->\n        <!-- </div> -->\n      </div>\n\n      <div class=\'row\' style=\'margin-bottom: 50px\'>\n        <div  ng-class=\'{\"col-md-12\": !sidedocuments, \"col-md-8 col-lg-7 col-xs-8\": sidedocuments}\'>\n          <div class=\"contents\">\n            <div markdownit=\'story.contents\' watchlanguage=\'true\' language=\'language\' listener=\'listener(event, data, callback)\' settoc=\'setToC(ToC)\' setdocs=\'setDocuments(items)\'></div>\n          </div>\n        </div>\n        <div class=\'col-md-4 col-lg-5 col-xs-4\' ng-if=\'sidedocuments\' respect-previous-sibling update=\"documents\">\n          <div  sliding-steps data-language=\'language\' data-focus=\'focusedIdx\' style=\'height:100%\' items=\'documents\'></div>\n        </div>\n      </div>\n      <!-- <div style=\'margin-top: 50px\' disqus=\"story.slug\"></div> -->\n      \n    </div>\n  </div>\n</div>\n");
$templateCache.put("/static/templates/tags.html","<div class=\'container\'>\n<div class=\"view\">\n<div class=\'row\'>\n<div class=\'col-lg-8\'>\n  <div>\n    <h1 translate=\"headline.publications.title\"></h1>\n\n    <blockquote translate=\"headline.publications.abstract\"></blockquote>\n\n    </div>\n  </div>\n</div>\n\n\n<!-- Nav tabs -->\n<ul class=\'nav nav-tabs\'>\n  <li role=\"presentation\" ui-sref-active=\"active\" >\n    <a href ui-sref=\'publications.all\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.all.label\"></a>\n  </li>\n  <li ng-repeat=\'link in urls\' role=\"presentation\" ui-sref-active=\"active\">\n    <a href ui-sref=\'publications.{{link.name}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" translate=\"state.publications.{{link.name}}.label\"></a>\n  </li>\n  <li ng-if=\'slug\' role=\"presentation\" ui-sref-active=\"active\" >\n    <a href ui-sref=\'publications.tags({slug: slug})\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\">/filter: <b>{{slug}}</b>/</a>\n  </li>\n</ul>\n\n\n<div ui-view></div>\n</div>\n</div>");
$templateCache.put("/static/templates/upload.html","<div class=\'container\'>\n<div class=\'view\'>\n<div class=\"row\">\n  <div class=\"col-lg-8\">\n    <div>\n      <h1 translate=\"upload.title\" class=\"ng-scope\">Publications</h1>\n\n      <blockquote translate=\"upload.description\" class=\"ng-scope\"></blockquote>\n\n      </div>\n    </div>\n  </div>\n</div>\n \n\n<div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>\n\n<div class=\'drop-box-form-wrapper\'>\n  <form name=\"createForm\" novalidate class=\"simple-form\">\n    <label>\n      <span class=\"number\" ng-class=\'{\"active\": createForm.utitle.$valid, \"error\": createForm.utitle.$dirty && !createForm.utitle.$valid}\'>1</span>\n      <span translate=\"field.label.upload.title\"></span>\n    </label>\n    <textarea id=\'draft-title\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'uploadable.title\' name=\'utitle\' required type=\'text\' placeholder=\'Untitled\'></textarea>\n    \n    <label>\n      <span class=\"number\" ng-class=\'{\"active\": createForm.uabstract.$valid, \"error\": createForm.uabstract.$dirty && !createForm.uabstract.$valid}\'>2</span>\n      <span translate=\"field.label.upload.abstract\"></span>\n    </label>\n    <textarea id=\'draft-abstract\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'uploadable.abstract\' name=\'uabstract\' required type=\'text\' placeholder=\'abstract\'></textarea>\n\n    <label>\n      <span class=\"number\" ng-class=\'{\"active\": uploadable.size}\'>3</span>\n      <span translate=\"field.label.upload.docx\"></span>\n    </label>\n    <div ng-show=\'!uploadable.size\'>\n    <div ngf-drop ngf-select ng-model=\"docx\" class=\"drop-box sans-serif\" \n    ngf-drag-over-class=\"\'dragover\'\" ngf-multiple=\"false\" ngf-allow-dir=\"true\"\n    accept=\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\" \n    ngf-pattern=\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\">Drop docx or click to upload</div>\n    </div>\n    <div ng-if=\"uploadable.size\" class=\"uploadable\">\n      <span class=\'icon-doc\'></span> \n      <span class=\'sans-serif\'>{{uploadable.name}}</span>\n      <span class=\"size\">{{uploadable.size}}</span>\n    </div>\n\n    <div class=\'button-wrapper\'>\n      <span class=\"number\" ng-class=\'{\"active\": createForm.$valid && uploadable.size}\'>4</span>\n      <div class=\'btn-line-group\' ng-class=\'{\"primary\": createForm.$valid && uploadable.size}\'>\n        <button class=\'btn-line\' type=\"submit\" ng-click=\"upload()\">\n          <span ng-if=\'createForm.$valid && uploadable.size\' translate=\'button.upload.story\'></span>\n          <span ng-if=\'!createForm.$valid || !uploadable.size\' translate-values=\'{ steps: (3 - +createForm.utitle.$valid - +createForm.uabstract.$valid - +!!uploadable.size)}\' translate=\'upload.missing.steps\'></span>\n        </button>\n      </div>\n    </div>\n    \n  </form>\n  \n</div>\n</div>\n</div>");
$templateCache.put("/static/templates/uploaded.html","<div class=\"row\">\n  <div class=\"col-lg-8\">\n    <div>\n      <h1 translate=\"upload.success.title\" class=\"ng-scope\">Your content has been submitted</h1>\n\n      <blockquote translate=\"upload.success.description\" class=\"ng-scope\"></blockquote>\n\n      <div ng-include=\'\"templates/partials/story.html\"|prefixTemplate\'></div>\n\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/writings.html","<div class=\'container\'>\n<div class=\'view\'>\n\n<!-- <span class=\'btn-line-group\'><button class=\'btn-line active\' ng-click=\'save()\'>{{isSaving? \"saving...\":\"save\"}}</button></span> -->\n\n\n<div class=\"row\">\n  <div class=\'col-md-8\'>\n    <label>\n      <span translate=\"field.label.title\"></span>\n    </label>\n    <textarea id=\'draft-title\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'title\'   type=\'text\' placeholder=\'Untitled\'></textarea>\n    <label></label>\n    <label>\n      <span translate=\"field.label.abstract\"></span>\n    </label>\n    <textarea id=\'draft-abstract\' class=\'elastic-textarea\' rows=\"1\" msd-elastic ng-model=\'abstract\' type=\'text\' placeholder=\'abstract\'></textarea>\n  \n  </div>\n  <div class=\'col-md-4\'>\n    \n    <div class=\'cover-preview-wrapper\'>\n      <label translate=\"field.label.cover\"></label>\n      <div class=\"cover-preview\" ng-repeat=\"document in story.covers\">\n        <div ng-if=\'document.metadata\'>\n          <div lazy-img=\'{{document|coverage}}\' class=\'lazy-box\'></div>\n\n          <div class=\'tile\'>\n            <div class=\'title\' embedit=\'document.metadata.title\' language=\'language\'></div>\n            <div class=\'copyright\' embedit=\'document.metadata.copyright\'></div>\n            <div class=\'btn-line-group\'>\n              <button class=\'btn-line\' ng-disabled=\'!story.covers.length\' ng-click=\'\n              removeCover(document)\' translate=\"button.removecover\"></button>\n            </div>\n          </div>\n        </div>\n\n      </div>\n      <div class=\"center\">\n        <div class=\'btn-line-group \' style=\'width: 100%\'>\n          <button   class=\'btn-line\' ng-click=\'\n            openCoversModal()\' translate=\"button.choosecover\"></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<div class=\'actions\'>\n  <!-- <div ng-if=\'metadata.owner.is_staff\' class=\'btn-line-group\'> -->\n  \n  <div class=\'btn-line-group\' ng-if=\'!isDraft && id\'>\n    <button ng-if=\'!isCollection\' class=\'btn-line\' ui-sref=\"story({postId: story.slug})\" translate=\"button.viewmode\"></button>\n    <button ng-if=\'isCollection\' class=\'btn-line\' ui-sref=\"collection({collectionId: story.slug})\" translate=\"button.viewmode\"></button>\n  </div>\n  \n  <div class=\'btn-line-group primary\'>\n    <button ng-if=\'!isDraft\' ng-click=\'save()\' class=\'btn-line\'><span ng-if=\'!isSaving\' translate=\"button.save\"></span><span ng-if=\'isSaving\' translate=\"button.issaving\"></span></button>\n    <button ng-if=\'isDraft\' ng-click=\'save()\' class=\'btn-line\'><span translate=\"button.create\"></span></button>\n    \n  </div>\n  <!-- </div> -->\n  \n</div>\n\n<div class=\'section\' style=\'margin-bottom:20px\'>\n  <div class=\"row\">\n    <div ng-class=\'{\"col-md-8\": !isDraft}\' ng-if=\'!isDraft\'>\n      <label translate=\"drafts.keywords.placeholder\"></label>\n  <tags-input class=\'tags-input\' placeholder=\'{{\"drafts.keywords.placeholder\"| translate}}\' on-tag-added=\'attachTag($tag)\' on-tag-removed=\'detachTag($tag)\' key-property=\'id\' display-property=\'name\' ng-model=\"keywords\" add-from-autocomplete-only=\"true\">\n    <auto-complete source=\"suggestTags($query, {category:\'keyword\'})\"></auto-complete>\n\n  </tags-input>\n    </div>\n\n    <div class=\"col-md-4\" ng-if=\'!isDraft && user.is_staff\'>\n      <label translate=\"staff.drafts.tags.placeholder\"></label>\n      <tags-input class=\'tags-input\'  on-tag-added=\'attachTag($tag)\' on-tag-removed=\'detachTag($tag)\' key-property=\'id\' display-property=\'name\' ng-model=\"displayedTags\" add-from-autocomplete-only=\"true\">\n        <auto-complete source=\"suggestTags($query, {category__in:[\'blog\',\'writing\', \'highlights\']})\" ></auto-complete>\n\n      </tags-input>\n    </div>\n  </div>\n\n</div>\n\n<!-- <div class=\'authors\' ng-if=\'!isDraft\'>\nby <a href>{{metadata.owner.username}}</a>\n</div>\n<div class=\'authors\' ng-if=\'isDraft\'>\n  <div ng-if=\'user.username\'>\n    by <a href>{{user.username}}</a>\n  </div>\n  <div ng-if=\'!user.username\'>\n    by <a href>anonymous</a>\n  </div>\n</div> -->\n\n<!-- <div ng-if=\'!isDraft\'>\n  <form class=\"form-inline\">\n    <div class=\"form-group\">\n      <label translate=\'date\'></label>\n      <input type=\"text\" class=\"form-control\" ng-model=\"date\" name=\"date\" data-max-date=\"today\" timezone=\'UTC\' bs-datepicker data-autoclose=\"1\">{{date}}\n    </div>\n  </form>\n</div> -->\n\n<div id=\"draft-contents\">\n  \n  <div style=\'min-height: 50px; position:relative\'>\n      <!-- <medium-editor ng-model=\'contents\' bind-options=\"mediumOptions\"></medium-editor> -->\n      \n      <div mde=\'contents\' language=\'language\' setdocs=\'setDocuments(documents)\' settoc=\'setToC(items)\'></div>\n      \n  </div>\n</div>\n</div>\n</div>");
$templateCache.put("/static/templates/partials/action.html","<div class=\"stream-item\">\n  {{action.ctor.username}} \n  <span translate=\'verb.{{action.verb}}\'></span>\n  <span translate=\'model.{{action.target_content_type}}\'></span>\n  {{action.timestamp|date:\'Ymd\'}}\n  <div ng-if=\"action.target_content_type == \'document\'\" ng-init=\'document=action.target\' ng-include=\'\"templates/partials/document.html\"|prefixTemplate\'>\n  </div>\n</div>\n");
$templateCache.put("/static/templates/partials/author.html","<a class=\'author\' ui-sref=\'author.publications.all({slug:author.slug})\'>{{author.fullname}}</a>{{$last? \'\':\', \'}}");
$templateCache.put("/static/templates/partials/breakingNews.html","<div class=\"wrapper\" style=\'    background-size: cover; background-image: url({{news.cover_url}})\'>\n  <div class=\'overlay\'>\n    <div class=\"type\">\n      <span ng-repeat=\'tag in news.tags | filter:{ category: \"writing\" }\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n    </div>\n    <h3><a ng-if=\'!news.isCollection\' ui-sref=\"story({postId: news.slug})\" embedit=\'news.metadata.title\' language=\'language\'></a><a ng-if=\'news.isCollection\' ui-sref=\"collection({collectionId: news.slug})\" embedit=\'news.metadata.title\' language=\'language\'></a></h3>  \n  </div>\n</div>");
$templateCache.put("/static/templates/partials/collection.html","<!-- <div ng-if=\'!$first\' class=\"divider\"></div> -->\n<div class=\"story collection lite\">\n  <div class=\"divider\"></div>\n  <div class=\"tags\" ng-if=\"story.tags.length\">\n    <span class=\'tag\' ng-repeat=\'tag in story.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n  </div>\n  <!-- <div class=\"date\">{{story.date_created|date:\'mediumDate\'}}</div> -->\n  \n  <h3 class=\"title\"><a ui-sref=\"collection({collectionId: story.slug})\"><span embedit=\'story.metadata.title\' language=\'language\'></span> {{story.status != \'public\'? \'(DRAFT)\': \'\'}}</a></h3>  \n  \n  <div class=\'authors\' ng-if=\"story.authors.length\">\n    <span translate=\'by\'></span> <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n  </div>\n  <blockquote ng-if=\'story.excerpt\' class=\"reduced\">{{story.excerpt}}.\n    <a href ui-sref=\"collection({collectionId: story.slug})\">\n      <span class=\'icon-arrow-right-circle\'></span>\n    </a>\n    <p>\n      <em ng-if=\"story.difference\">{{story.difference}}</em>\n    </p>\n  </blockquote>\n  \n  <blockquote ng-if=\'!story.excerpt\' embedit=\'story.metadata.abstract\' language=\'language\'></blockquote>\n</div>");
$templateCache.put("/static/templates/partials/document.html","\n<div class=\'doc doc-{{document.type}} {{document.isSelected?\"active\":\"\"}}\' ng-click=\'selectDocument(document)\'>\n  <!-- <div class=\'divider\'>&nbsp;</div> -->\n  \n  <div class=\'switch\' ng-if=\'document.type==\"image\"\' ng-include=\'\"templates/partials/document.image.html\"|prefixTemplate\'></div>\n\n  <div class=\'switch\' ng-if=\'document.type==\"photo\"\' ng-include=\'\"templates/partials/document.photo.html\"|prefixTemplate\'></div>\n\n\n  <div class=\'switch\' ng-if=\'document.type==\"rich\" || document.type==\"video\"\' rich-oembed fullscreen=\'fullsize(document.slug)\' oembed=\'document.metadata\' cover=\'document.metadata.details.urls.Preview || document.snapshot ||  document.metadata.urls.Preview || document.metadata.thumbnail_url;\'></div>\n\n  \n\n  <div class=\'switch\' ng-if=\'document.type==\"picture\"\' style=\'height: 400px; width:100%; background-position: center; background-color: #151515; background-size:contain; background-repeat: no-repeat;\' lazy-img=\'{{document.src}}\'></div>\n\n  <div ng-if=\'document.metadata\' ng-include=\'\"templates/partials/document.metadata.html\"|prefixTemplate\'></div>\n\n      <!-- this element has fixed height. -->\n      <div ng-if=\'document.type==\"video-cover\"\'>\n        \n        <div class=\'caption reference\' markdown=\'document.metadata.reference.fr\'></div>\n        <div class=\'copyright\'>{{document.copyrights}}</div>\n        \n      </div>\n\n      \n\n      <div ng-if=\'document.type==\"pdf\"\' lazy-image src=\'document.snapshot\'></div>\n      \n\n      <blockquote ng-if=\'document.citation\' markdown=\'document.citation\'></blockquote>\n\n\n      \n      <div ng-if=\'!document.metadata\'>\n        <div ng-if=\'document.title\' class=\'title\'>{{document.title}}</div>\n        <div ng-if=\'document.caption\' class=\'caption\'>{{document.caption}}</div>\n        <div ng-if=\'document.copyrights\' class=\'copyright\'>{{document.copyrights}}</div>\n        \n      </div>\n\n      <div ng-if=\'document.type==\"bibtex\"\'>\n        <div class=\'caption\'>\n          <span ng-if=\'document.metadata.author\'>{{document.metadata.author|bibtex}},</span>\n          <span ng-if=\'document.metadata.editor\'>{{document.metadata.editor|bibtex}}</span>(edited by)</span> \n          \n          <em>{{document.metadata.title|bibtex}}</em>\n          <span>{{document.metadata.publisher|bibtex}}</span>\n          <span ng-if=\'document.metadata.year\'>, <span>{{document.metadata.year|bibtex}}</span> \n        </div>\n      </div>\n\n      <div ng-if=\'document.type!=\"bibtex\" && document.metadata.title\'>\n        <div class=\'caption\' markdown=\'document.metadata.title\'></div>\n        <div ng-if=\'document.metadata.reference\' class=\'caption reference\' markdown=\'document.metadata.reference\'></div>\n        <div ng-if=\'document.metadata.copyright\' class=\'copyright\' markdown=\'document.metadata.copyright\'></div>\n        <div ng-if=\'document.metadata.author_name\' class=\'copyright\'>\n          <a ng-href=\'{{document.metadata.author_url}}\' target=\'_blank\' markdown=\'document.metadata.author_name\'></a>\n        </div>\n      </div>\n\n    </div>");
$templateCache.put("/static/templates/partials/document.image.html","<div class=\'image-wrapper\'>\n  <!-- <div ng-if=\'document.metadata.urls\' lazy-image src=\'document.metadata.urls.Preview\' size=\'contain\'></div>\n -->\n  <div src=\'document.metadata.thumbnail_url || document.metadata.urls.Preview || document.snapshot\' lazy-image></div>\n</div>");
$templateCache.put("/static/templates/partials/document.metadata.embedded.html","<span class=\'oneline\'><em ng-if=\'document.metadata.title\' embedit=\'document.metadata.title\' language=\'language\' firstline=\'true\'></em>\n<em ng-if=\'!document.metadata.title && document.title\' embedit=\'document.title\' language=\'language\' firstline=\'true\'></em>\n\n<span ng-if=\'document.metadata.author_name\'>\n  <span translate=\'by\'></span>\n  <a ng-href=\'{{document.metadata.author_url}}\' target=\'_blank\'>{{document.metadata.author_name}}</a>\n</span>\n</span>");
$templateCache.put("/static/templates/partials/document.metadata.html","<div class=\'metadata {{document.type}}\'>\n  <div ng-if=\'!document.metadata.details.title\'>\n    <button class=\'btn btn-line\' ng-if=\'document._type == \"doc\"||document._type == \"voc\"\' ng-click=\'alignTo(document._index, $event)\'>\n      <span class=\'icon icon-type-{{document.type||document._type}}\'></span><span class=\'type {{document.type}}\'></span>\n    </button>\n    <span ng-if=\'document.type!=\"link\"\' class=\'title\' embedit=\'document.metadata.title\' language=\'language\'></span>\n\n    <a ng-if=\'document.type==\"link\"\' target=\'_blank\' ng-href=\'{{document.metadata.url}}\'><span class=\'title\' embedit=\'document.metadata.title\' language=\'language\'></span></a>\n    \n    <div ng-if=\'document.metadata.abstract\'  class=\'abstract\'>\n      <span embedit=\'document.metadata.abstract\' language=\'language\'></span>\n      <span ng-if=\'document._type == \"voc\"\'>\n        <a ui-sref=\'story({postId:document.slug})\'>\n          <span translate=\'more\'></span>\n          <span class=\"icon icon-arrow-right-circle\"></span>\n        </a>\n      </span>\n    </div>\n    <div>\n      <div ng-if=\'document.metadata.type==\"link\" && document.metadata.thumbnail_url\' class=\'snapshot\' lazy-img=\'{{document.metadata.thumbnail_url}}\'></div>\n      \n      <div ng-if=\'document.metadata.caption\' class=\'caption\' embedit=\'document.metadata.caption\' language=\'language\'></div>\n      <div ng-if=\'!document.metadata.caption && document.metadata.description\' class=\'caption\' embedit=\'document.metadata.description\' language=\'language\'></div>\n    </div>\n    <div style=\'clear:both\' ng-if=\'document.metadata.copyright\' embedit=\'document.metadata.copyright\' language=\'language\' firstline=\'true\'></div>\n  </div>\n  \n  <!-- having details -->\n  <div ng-if=\'document.metadata.details.title\'>\n    <button class=\'btn btn-line\' ng-if=\'document._type == \"doc\"||document._type == \"voc\"\' ng-click=\'alignTo(document._index, $event)\'>\n      <span class=\'icon icon-type-{{document.type||document._type}}\'></span>\n    </button>\n    <span class=\'title\' embedit=\'document.metadata.details.title || document.metadata.title\' language=\'language\'></span>\n    <div class=\'caption\' embedit=\'document.metadata.details.caption\' language=\'language\'></div>\n    <div class=\'copyright\' ng-if=\'document.metadata.details.copyright\' embedit=\'document.metadata.details.copyright\' language=\'language\' firstline=\'true\'></div>\n  </div>\n\n   \n  <!-- author part -->\n  <div>\n    <span ng-if=\'document.metadata.author_name\'>\n      <span translate=\'author\'></span>\n      <a ng-href=\'{{document.metadata.author_url}}\' target=\'_blank\'>{{document.metadata.author_name}}</a>\n    </span>\n    <span ng-if=\'document.metadata.provider_name\'>\n      <span translate=\'source\'></span>:\n      <a ng-href=\'{{document.metadata.provider_url}}\' target=\'_blank\'>{{document.metadata.provider_name}}</a>\n    </span>\n  </div>\n  \n  <a ng-if=\'user.is_staff\' target=\'_blank\' ng-href=\'/admin/miller/document/{{document.document_id || document.id}}/change/\'>modify (admin)</a>\n  <!-- <button ng-if=\'document.type != \"link\"\' ng-click=\'fullsize(document.slug, document._type )\' >preview</button> -->\n  \n</div>");
$templateCache.put("/static/templates/partials/document.metadata.linear.html","<div class=\'metadata {{document.type}}\'>\n  <em ng-if=\'document.metadata.title\' embedit=\'document.metadata.title\' language=\'language\' firstline=\'true\'></em>\n  <em ng-if=\'!document.metadata.title && document.title\' embedit=\'document.title\' language=\'language\' firstline=\'true\'></em>\n\n  <span ng-if=\'document.metadata.author_name\'>\n    <span translate=\'by\'></span>\n    <a ng-href=\'{{document.metadata.author_url}}\' target=\'_blank\'>{{document.metadata.author_name}}</a>\n  </span>\n  <span ng-if=\'document.metadata.provider_name\'>\n    (<span translate=\'source\'></span>:\n    <a ng-href=\'{{document.metadata.url || document.metadata.provider_url}}\' target=\'_blank\'>{{document.metadata.provider_name}}</a>)\n  </span>\n\n<span ng-if=\'document.metadata.copyright\' embedit=\'document.metadata.copyright\' language=\'language\' firstline=\'true\'></span>\n<span ng-if=\'user.is_staff\' >&mdash; <a target=\'_blank\' ng-href=\'/admin/miller/document/{{document.document_id || document.id}}/change/\'>modify (admin)</a></span>\n</div>");
$templateCache.put("/static/templates/partials/document.photo.html","<div class=\'image-wrapper\'>\n  <!-- <div ng-if=\'document.metadata.urls\' lazy-image src=\'document.metadata.urls.Preview\' size=\'contain\'></div>\n -->\n  <img src=\'images/spinner.gif\' lazy-img=\'{{document.metadata.media_url || document.metadata.urls.Preview}}\' />\n</div>");
$templateCache.put("/static/templates/partials/document.placeholder.html","<div ng-init=\'document=resolved\' ng-include=\'\"templates/partials/document.html\"|prefixTemplate\' ></div>");
$templateCache.put("/static/templates/partials/document.rich.html","<div class=\'iframe-wrapper\' ng-init=\'__isIntoViewport=false\' ng-class=\'{\"with-thumbnail\": document.metadata.thumbnail_url}\'>\n  <a class=\'toggle-preview\' href ng-click=\'__isIntoViewport = !__isIntoViewport\'><span class=\'icon icon-eye\'></span></a>\n  <div class=\'iframe-viewport\' ng-class=\'{\"active\":__isIntoViewport}\'>\n    <div ng-if=\"document.metadata.thumbnail_url\" style=\'height: 100%;width: 100%\'>\n      <div class=\'cover\' style=\'height: 100%;width: 100%; background-color:#151515;background-size: cover\'  src=\'{{\"images/spinner.gif\"|prefixTemplate}}\' lazy-img=\'{{document.metadata.thumbnail_url}}\'></div>\n    </div>\n    <div ng-if=\'__isIntoViewport\' style=\'height: 100%; position: absolute; top:0; left:0;width: 100%\' stretch=\'true\' embedit=\'document.metadata.html\' language=\'language\'></div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/hold.html","<div>\n  <span embedit=\'resource.metadata.title\' language=\'language\'></span>\n  <span ng-if=\'resource.metadata.abstract\' embedit=\'resource.metadata.abstract\' language=\'language\'></span>\n  <span ng-if=\'resource.metadata.description\' embedit=\'resource.metadata.description\' language=\'language\'></span>\n</div>");
$templateCache.put("/static/templates/partials/oembed-search-results.html","<div class=\'oembedded doc doc-{{document.type}}\' ng-class=\'{\"active\": document.url == selectedDocument.url}\' ng-click=\'selectDocument(document)\'>\n\n  <!-- <div class=\'divider\'>&nbsp;</div> -->\n  \n  <div class=\'wrapper\'>\n    <div ng-if=\'document.urls.Preview\' lazy-image src=\'document.urls.Preview\'></div>\n    <div class=\'tile\'>\n      <div class=\'title\' embedit=\'document.metadata.title\' languagle=\'language\'></div>\n      <div class=\'copyright\' embedit=\'document.copyright\'></div>\n    </div>\n  </div>\n  <div class=\'excerpt\' embedit=\'document.title\'></div>\n</div>");
$templateCache.put("/static/templates/partials/placeholder.html","<div class=\'placeholder\' ng-if=\'type==\"doc\"\' ng-include=\'\"templates/partials/document.placeholder.html\"|prefixTemplate\'></div>\n<span class=\'placeholder\' ng-if=\'type==\"voc\"\' ng-include=\'\"templates/partials/term.placeholder.html\"|prefixTemplate\'></span>");
$templateCache.put("/static/templates/partials/report.html","<div class=\"review stream {{review.status}}\">\n  <div class=\"row\">\n    <div class=\'col-xs-4 col-sm-4 col-md-3\'>\n      <table class=\"table\">\n        <tr>\n          <th><span>type</span></th>\n          <td><span>{{review.category}}</span></td>\n        </tr>\n        <tr>\n          <th><span>status</span></th>\n          <td><span class=\'status\'>{{review.status}}</span></td>\n        </tr>\n        <tr>\n          <th><span>score</span></th>\n          <td><span>{{review.score}}</span></td>\n        </tr>\n      </table>\n    </div>\n    <div class=\'col-xs-8 col-sm-6 col-md-5\'>\n      <div class=\'reviewed\'>\n        <div class=\"date\">{{review.story.date|date:\'mediumDate\'}}</div>\n\n        <h2 class=\"title\">\n          <a ui-sref=\"story({postId: review.story.slug})\"><span embedit=\'review.story.metadata.title\' language=\'language\'></span></a>\n        </h2>  \n      \n        <blockquote ng-if=\'review.story.metadata.abstract\' embedit=\'review.story.metadata.abstract\' language=\'language\'></blockquote>\n      </div>\n    </div>\n\n    <div class=\'col-sm-2 col-md-4\'>\n      <div class=\'center\'  style=\'    margin-top: 35px;\'>\n        <div class=\'btn-line-group primary\'>\n          <button class=\'btn-line\' ui-sref=\'report({id: review.id})\' translate=\'button.viewreport\'></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/review.html","<div class=\"review stream {{review.status}}\">\n  <div class=\"row\">\n    <div class=\'col-xs-4 col-sm-4 col-md-3\'>\n      <table class=\"table\">\n        <tr>\n          <th><span>type</span></th>\n          <td><span>{{review.category}}</span></td>\n        </tr>\n        <tr>\n          <th><span>status</span></th>\n          <td><span class=\'status\'>{{review.status}}</span></td>\n        </tr>\n        <tr>\n          <th><span>due date</span></th>\n          <td><span>{{review.due_date|date:\'mediumDate\'}}</span></td>\n        </tr>\n        <tr ng-if=\'review.category != \"editing\"\'>\n          <th><span>score</span></th>\n          <td><span>{{review.score}}</span></td>\n        </tr>\n      </table>\n    </div>\n    <div class=\'col-xs-8 col-sm-6 col-md-5\'>\n      <div class=\'reviewed\'>\n        <div class=\"date\">{{review.story.date|date:\'mediumDate\'}}</div>\n\n        <h2 class=\"title\">\n          <a ui-sref=\"review.story({id: review.id})\"><span embedit=\'review.story.metadata.title\' language=\'language\'></span></a>\n        </h2>  \n      \n        <blockquote ng-if=\'review.story.metadata.abstract\' embedit=\'review.story.metadata.abstract\' language=\'language\'></blockquote>\n      </div>\n    </div>\n\n    <div class=\'col-sm-2 col-md-4\'>\n      <div ng-if=\'review.status == \"initial\" || review.status == \"draft\"\' class=\'center\'  style=\'    margin-top: 35px;\'>\n        <div class=\'btn-line-group primary\'>\n          <button class=\'btn-line\' ui-sref=\'review({id: review.id})\' translate=\'button.completereview\'></button>\n        </div>\n      </div>\n      <div ng-if=\'review.status != \"initial\" && review.status != \"draft\"\' class=\'center\'  style=\'    margin-top: 35px;\'>\n        <div class=\'btn-line-group primary\'>\n          <button class=\'btn-line\' ui-sref=\'review({id: review.id})\' translate=\'button.viewreport\'></button>\n        </div>\n      </div>\n      <div class=\'center\'  style=\'    margin: 20px 0 15px 0;\'>\n        <div class=\'btn-line-group primary\'>\n          <button class=\'btn-line\' ui-sref=\'review.story({id: review.id})\' translate=\'button.viewforreview\'></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/story.html","<div ng-if=\'!story.isCollection\' class=\"story item\">\n  <div class=\"row\">\n    <div class=\"col-md-4\" ng-if=\'story.covers.length\'>\n      <div  ng-repeat=\'document in story.covers\' class=\'fluid-container relative\'>\n        <div class=\'image-wrapper cover\' lazy-img=\'{{document|coverage}}\'></div>\n        <div class=\'embedded-metadata\' ng-include=\'\"templates/partials/document.metadata.embedded.html\"|prefixTemplate\'></div>\n      </div>\n    </div>\n    <div class=\"col-md-8\" ng-class=\'{\"col-md-12\":!story.covers.length}\'>\n    <div ng-if=\'!$first\' class=\"divider\"></div>\n    <div class=\"tags\" ng-if=\"story.tags.length && !story.matches\">\n      <span class=\'tag\' ng-repeat=\'tag in story.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n    </div>\n    <div class=\"tags\" ng-if=\"story.tags.length && story.matches\">\n      <span class=\'tag\' ng-click=\'setLocationFilter(\"tags\",tag.slug)\' ng-repeat=\'tag in story.tags|filter:\"public\"\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n    </div>\n\n    <div class=\"date\">{{story.date|date:\"yyyy\'.\'MM\'.\'dd\"}}</div>\n\n    \n\n\n    <h3 class=\"title\"><a ui-sref=\"story({postId: story.slug})\"><span embedit=\'story.metadata.title\' language=\'language\'></span> {{story.status != \'public\'? \'[\'+story.status+\']\': \'\'}}</a></h3>  \n    <div class=\'authors\' ng-if=\"story.authors.length\">\n      <span translate=\"written.by\"></span> <span ng-repeat=\'author in story.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n    </div>\n    <blockquote ng-if=\'story.excerpt\' class=\"reduced\">{{story.excerpt}}.\n      <a href ui-sref=\"story({postId: story.id})\">\n        <span class=\'icon-arrow-right-circle\'></span>\n      </a>\n    </blockquote>\n    \n    <blockquote ng-if=\'!story.excerpt && !story.matches\' class=\"reduced\" embedit=\'story.metadata.abstract\' language=\'language\'></blockquote>\n\n    <blockquote class=\"reduced matches\" ng-if=\"story.matches.highlights\">\n      <div embedit=\'story.matches.highlights\'></div>  \n    </blockquote>\n\n    <p>\n      \n      <!-- <span class=\'creator\' ng-if=\"!story.authors.length\">\n        created by <span ng-init=\'author=story.owner;$last=true\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n      </span> -->\n      \n      <a ng-if=\'user.is_staff\' target=\'_blank\' ng-href=\'/admin/miller/story/{{story.id}}/change/\'>modify (admin)</a>\n    \n    </p>\n    </div>\n  </div>\n</div>\n\n<div ng-if=\'story.isCollection\' ng-include=\'\"templates/partials/collection.html\"|prefixTemplate\'></div>");
$templateCache.put("/static/templates/partials/story.socialshare.html","<div class=\"share\" >\n  <span translate=\'share\'></span>\n  <a socialshare socialshare-provider=\"twitter\" socialshare-text=\"{{OG.title}}\" socialshare-via=\"{{settings.twitter.username}}\" socialshare-hashtags=\"{{settings.twitter.socialtags}}\" socialshare-url=\"{{absoluteUrl}}\"><span class=\'icon icon-social-twitter\'></span></a>\n\n  <a socialshare socialshare-provider=\"facebook\" socialshare-text=\"{{OG.title}}\" socialshare-title=\"{{OG.title}}\" socialshare-description=\"{{OG.description}}\"  socialshare-hashtags=\"{{settings.socialtags}}\" socialshare-media=\"{{OG.image}}\" socialshare-via=\"{{settings.facebook}}\" socialshare-type=\"feed\" socialshare-url=\"{{absoluteUrl}}\"><span class=\'icon icon-social-facebook\'></span></a>\n</div>");
$templateCache.put("/static/templates/partials/table-of-contents.html","\n<div id=\'inner-table-of-contents-toggler\' >\n  <button class=\'btn-transparent\' ng-click=\'toggleTableOfContents()\'><span class=\'icon-action-undo\'></span></button>\n  <div class=\'save\' ng-if=\'state == \"writing\" || state == \"draft\"\' ng-click=\'save()\'>\n    <button class=\'btn-transparent btn-line\'><span  class=\'icon-disc\'></span></button>\n    <div class=\'sans-serif\' style=\'text-transform: uppercase; font-size:10px; text-align:center; line-height:20px\' translate=\'save\'></div>\n  </div>\n  <!-- <div class=\'edit\' ng-if=\'state == \"post\"\' ng-click=\'save()\'>\n    <button class=\'btn-transparent btn-line\'><span  class=\'icon-disc\'></span></button>\n    <div class=\'sans-serif\' style=\'text-transform: uppercase; font-size:10px; text-align:center; line-height:20px\' translate=\'save\'></div>\n  </div> -->\n</div>\n\n<h2>table of contents</h2>\n\n\n<ul>\n  <li ng-repeat=\"heading in ToC\" class=\'heading heading-{{heading.level}}\'>\n  <a ng-click=\'setHash(heading.slug)\'> {{heading.text}}</a></li>\n\n</ul>");
$templateCache.put("/static/templates/partials/table-of-documents.html","<!-- <h2>table of documents</h2>\n -->\n\n<!-- <div>\n  <div ng-repeat=\"document in documents\">\n    {{language}}\n    <span embedit=\'document.metadata.title\' language=\'language\'></span>\n  </div>\n</div> -->");
$templateCache.put("/static/templates/partials/tag.html","<span ng-if=\'tag.category != \"keyword\" && tag.category != \"blog\"\' class=\'tag\' ng-class=\'tag.category\'><a ui-sref=\'publications.{{tag.slug}}\'>{{tag.name}}</a></span><span ng-if=\'tag.category == \"keyword\"\' class=\'tag\' ng-class=\'tag.category\'><a href ui-sref=\'publications.tags({slug: tag.slug})\'>{{tag.name}}</a></span><span ng-if=\'tag.category == \"blog\"\' class=\'tag\' ng-class=\'tag.category\'><a href ui-sref=\'blog.{{tag.slug}}\'>{{tag.name}}</a></span>{{$last?\' \': \', \'}}");
$templateCache.put("/static/templates/partials/tag.input.html","<span ng-class=\'data.category\'>\n  <span class=\'type\'>{{data.category}}/</span>\n  <span>{{data.name}}</span>\n	<a class=\"remove-button\" ng-click=\"$removeTag()\" ><span class=\'icon-close\'></span></a>\n</span>");
$templateCache.put("/static/templates/partials/term.html","<div ng-class=\'{\"active\": selectedDocument.id == term.id}\' class=\'doc term oembedded\' ng-click=\'selectDocument(term)\'>\n  <!-- this element has fixed height. -->\n  <!-- {{term}} -->\n  <div class=\'wrapper\'>\n    <div class=\'lazy-box\'>\n      \n      <div ng-if=\'!term.covers.length\' class=\'title\' embedit=\'term.metadata.title\' language=\"language\" ></div>\n      <div ng-if=\'!term.covers.length\' class=\'copyright\' embedit=\'term.metadata.abstract\' language=\"language\" ></div>\n      <!-- {{term.covers}} -->\n      <div class=\'cover\' ng-repeat=\'cover in term.covers\' lazy-img=\"{{ cover.metadata.thumbnail_url || cover.metadata.urls.Preview }}\"></div>\n    </div>\n    <div class=\'tile\'>\n      <div class=\"tags\" ng-if=\"term.tags.length\">\n        <span class=\"tag\" ng-repeat=\'tag in term.tags|filter:{ category: \"writing\", status:\"public\" }\' ng-include=\'\"templates/partials/tag.html\"|prefixTemplate\'></span>\n      </div>\n      <div class=\'title\' embedit=\'term.metadata.title\' language=\"language\"></div>\n      <div class=\'abstract\' embedit=\'term.metadata.abstract\' language=\"language\"></div>\n      <div class=\'authors\' ng-if=\"term.authors.length\">\n        by <span ng-repeat=\'author in term.authors\' ng-include=\'\"templates/partials/author.html\"|prefixTemplate\'></span>\n      </div>\n      \n    </div>\n  </div>\n  <div class=\'excerpt\' embedit=\'term.metadata.title\' language=\"language\"></div>\n</div>");
$templateCache.put("/static/templates/partials/term.placeholder.html","<a ui-sref=\'story({postId: resolved.id})\'>{{resolved.title}}</a>\n");
$templateCache.put("/static/templates/partials/directives/footnote.html","<span class=\"footnote\">\n  <!-- <a ng-click=\"toggleFootnote()\">{{caption}}</a> -->\n  <div class=\"footnote-contents\" ng-show=\"isOpened\"></div>\n</span>");
$templateCache.put("/static/templates/partials/directives/mde.html","<div ng-show=\'isReady\' class=\'mde\'>\n  <div class=\'toolbox\'> \n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"strong\") != -1?\"active\": \"\"}}\' ng-click=\'action(\"toggleBold\")\'>B</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"em\") != -1?\"active\": \"\"}}\' style=\'font-style:italic\' ng-click=\'action(\"toggleItalic\")\'>I</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"header-1\") != -1?\"active\": \"\"}}\' ng-click=\'action(\"toggleHeading1\")\'>H1</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"header-2\") != -1?\"active\": \"\"}}\' ng-click=\'action(\"toggleHeading2\")\'>H2</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"header-3\") != -1?\"active\": \"\"}}\' ng-click=\'action(\"toggleHeading3\")\'>H3</button>\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"quote\") != -1?\"active\": \"\"}}\' ng-click=\'action(\"toggleBlockquote\")\'>Q</button>\n\n      <button style=\'width:70px\' class=\'sans-serif btn {{isPreviewEnabled? \"active\": \"\"}}\' ng-click=\'action(\"togglePreview\")\'>preview</button>\n\n      <button ng-disabled=\'isPreviewEnabled\' class=\'btn {{activeStates.indexOf(\"link\") != -1|| activeStates.indexOf(\"url\") != -1? \"active\": \"\"}}\' ng-click=\'showReferenceModal()\'><span class=\'icon-plus\'></span></button>\n      <!-- {{activeStates}} -->\n  </div>\n  <div class=\'wand\' >\n    <button class=\'btn\' ng-disabled=\'isPreviewEnabled\' ng-click=\'showReferenceModal()\'><span class=\'icon-plus\'></span></button>    \n  </div>\n\n	<textarea class=\'mde-textarea\' placeholder=\"write something...\"></textarea>\n</div>");
$templateCache.put("/static/templates/partials/directives/rich-oembed.html","<div class=\'rich-oembed-iframe-wrapper {{oembed.type}}\' ng-class=\'{\"with-thumbnail\": with-thumbnail}\'>\n  <div ng-click=\'toggleEnable()\' class=\"shadow\">\n    <div class=\'toggler\' ng-if=\'oembed.type == \"video\"\' ><span class=\'icon icon-control-play\'></span></div>\n  </div>\n  <div class=\'rich-oembed-iframe-viewport\' ng-class=\'{\"active\":iframeEnabled}\'>\n    <div ng-if=\"cover\" style=\'height: 100%; width: 100%\' >\n      <div class=\'image-wrapper cover\'  src=\'{{\"images/spinner.gif\"|prefixTemplate}}\' lazy-img=\'{{ cover }}\'></div>\n    </div>\n    <div ng-if=\'iframeEnabled\' style=\'height: 100%; position: absolute; top:0; left:0;width: 100%\' stretch=\'true\' autoplay=\'{{autoplay}}\' embedit=\'oembed.html\' language=\'language\'></div>\n  </div>\n  <div class=\'actions\'>\n    <a ng-if=\'oembed.type != \"video\" || iframeEnabled\'  class=\"action\" ng-click=toggleEnable()>\n      <span class=\'icon\' ng-class=\'{\"icon-control-play\": !iframeEnabled, \"icon-close\": iframeEnabled}\'></span>\n    </a>\n    <a class=\'action\' ng-if=\'fullscreen\' ng-click=\"toggleFullscreen()\">\n      <span class=\'icon icon-size-fullscreen\'></span>\n    </a>\n\n  </div> \n</div>");
$templateCache.put("/static/templates/partials/directives/sliding-steps.html","<div class=\'sliding-steps-direction top\' ng-class=\'{\"active\":isMoreTop}\'>\n  <div class=\'btn-line-group\'>\n    <button class=\"btn btn-line\" ng-click=\'prev()\'>\n      <span class=\"icon icon-arrow-up-circle\"></span>\n      <span translate=\'button.previous\'></span> \n    </button>\n  </div>\n</div>\n\n<div class=\"sliding-steps-wrapper\" ng-class=\'{\"more-top\":isMoreTop, \"more-bottom\":isMoreBottom}\'>\n  <div class=\'sliding-steps\'>\n    <div id=\'step-{{item._index}}\' class=\'step {{item._type}}\' ng-class=\'{active: item.isFocused}\' ng-repeat=\"item in items\" ng-init=\'document=item\' ng-if=\'item._type != \"block-doc\"\'>\n      <div class=\"thumbnail\" ng-class=\'item.type\' ng-if=\'item._type==\"doc\" && item.type != \"link\"\' >\n        <div class=\"action fullscreen\" ng-if=\'document.type!=\"rich\" && document.type!=\"video\"\' ng-click=\'fullsize(document.slug, document._type)\'><span class=\"icon icon-size-fullscreen\"></span></div>  \n        \n        <div class=\"thumbnail-image\" ng-if=\'document.type==\"photo\"\' src=\'{{\"images/spinner.gif\"|prefixTemplate}}\' lazy-img=\'{{document.metadata.urls.Preview ||  document.metadata.thumbnail_url || document.metadata.url}}\'></div>\n        \n\n        <!-- <div class=\"thumbnail-image\" ng-if=\'document.type==\"rich\" || document.type==\"video\" || document.type==\"link\"\' src=\'{{\"images/spinner.gif\"|prefixTemplate}}\' lazy-img=\'{{document.metadata.thumbnail_url}}\' ></div>\n         -->\n        <div class=\"thumbnail-image\" ng-if=\'document.type==\"image\"\' src=\'{{\"images/spinner.gif\"|prefixTemplate}}\' lazy-img=\'{{document.metadata.thumbnail_url || document.metadata.urls.Preview || document.snapshot}}\'></div>\n        \n        <div class=\"thumbnail-embed\" ng-if=\'document.type == \"rich\" || document.type== \"video\"\' rich-oembed autoplay=\'true\' fullscreen=\'fullsize(document.slug, document._type)\' enabled=\'item.isFocused\' cover=\'document.snapshot || document.metadata.urls.Preview || document.metadata.thumbnail_url\' oembed=\'document.metadata\'></div>\n\n      </div>\n\n      \n\n\n      <div ng-if=\"item._type==\'footnote\'\" class=\"metadata footnote-wrapper\">\n        <button class=\'btn btn-line\' ng-click=\'alignTo(item._index, $event)\'>\n        <span>{{item.caption}}</span>\n        </button>\n        <span footnote=\'item.id\' caption=\'item.caption\' is-opened=\'true\'></span>\n      </div>\n      <!-- <div ng-if=\"item.type==\'image\'\">\n        {{item.metadata}}\n      </div> -->\n      <div ng-if=\'item.metadata\' ng-include=\'\"templates/partials/document.metadata.html\"|prefixTemplate\'></div>\n    </div>\n  </div>\n</div>\n\n<div class=\'sliding-steps-direction bottom\' ng-class=\'{\"active\":isMoreBottom}\'>\n  <div class=\'btn-line-group\'>\n    <button class=\"btn btn-line\" ng-click=\'next()\'>\n      <span class=\"icon icon-arrow-down-circle\"></span>\n      <span translate=\'button.next\'></span> \n    </button>\n  </div>\n</div>\n\n<div id=\'sliding-steps-line\'></div>");
$templateCache.put("/static/templates/partials/modals/covers.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1051; display: block;\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n      <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n      <span aria-hidden=\"true\" class=\'icon-close\'></span>\n      </button>\n      <h4 class=\"modal-title\" translate=\"modal.covers.title\"></h4></div>\n      \n      <div class=\"modal-body\">\n        <div class=\'section padded\' style=\'padding-bottom: 0\'>\n          <label>\n            <span translate=\'search\'></span>{{isSomethingSelected}}\n            <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n          </label>\n          <input placeholder=\'....\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 200 }\" ng-change=\'suggest(query)\'>\n        </div>\n\n        <ul class=\"nav nav-tabs\" style=\'margin-bottom: 20px; padding-left:15px;\' role=\"tablist\">\n          <li role=\'presentation\' ng-class=\'{\"active\": _tab.name == tab.name}\' ng-repeat=\'_tab in tabs\'>\n            <a ng-click=\'setTab(_tab.name)\' translate=\'tab.{{_tab.name}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\"></a>\n          </li>\n        </ul>\n\n        <div>\n          <ul class=\'list-of-documents\'><li ng-repeat=\'document in tab.items\' ng-include=\'\"templates/partials/embeds/document.html\"|prefixTemplate\'></li>\n              </ul>\n          <div class=\'more-wrapper\'>\n                <div ng-if=\'tab.items.length > 0 && tab.items.length < tab.count\' class=\"btn-line-group primary\">\n                  <button class=\'btn-line\' ng-click=\'more()\'>\n                    <span ng-if=\'!tab.isLoadingNextItems\'>\n                      <span translate=\'button.more\'></span>\n                      <span translate=\'missing\' translate-values=\"{count: tab.missing}\"></span>\n                    </span>\n                    <span ng-if=\'tab.isLoadingNextItems\' translate=\'button.loading\'></span>\n                  </button>\n                </div>\n                <!-- when count equals item length, we are at the end -->\n              </div>\n        </div>\n      </div>\n      <!-- eof body -->\n      <div class=\"modal-footer\">\n        <span class=\'btn-line-group\' ng-class=\"{\'primary\':isSomethingSelected}\"><button type=\"button\" class=\"btn-line \" ng-class=\"{\'active\':isSomethingSelected}\" ng-click=\"addDocument(tab.name, contents, reference, url, embed)\" translate=\'button.add\'></button>\n        </span>\n        <span class=\'btn-line-group\'>\n        <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\">Close</button>\n        </span>\n      </div>\n      <!-- eof footer -->\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/modals/fullsize.html","<div ng-class=\'fullsized.type\' class=\"modal fullsize\"  tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1050; display: block;\">\n  <div ng-click=\'$hide()\' class=\'close\'>\n  <span class=\'icon-close\'></span>\n  </div>\n  <div ng-class=\'fullsized.type\' class=\'oversize\' style=\'\'>\n    <div class=\"wrapper\">\n      <div class=\"header\">\n        <div class=\"inner\">\n          <h2 embedit=\'fullsized.metadata.title\'></h2>\n          <div ng-init=\'document=fullsized\' ng-include=\'\"templates/partials/document.metadata.linear.html\"|prefixTemplate\'\'></div>\n        </div>\n      </div>\n      <div class=\"main\">\n        <div class=\"box sidebar\"></div>\n        <div class=\"box content\" ng-if=\'fullsized.type == \"photo\" || fullsized.type == \"image\" || fullsized.type == \"rich\" || fullsized.type == \"video\"\'>\n          <div class=\'embedded\' ng-if=\'fullsized.metadata.urls.Publishable || fullsized.attachment\'>\n            <div class=\'image\' lazy-image size=\'contain\' src=\'fullsized.metadata.urls.Publishable || fullsized.attachment\'></div>\n          </div>\n          <div class=\'embedded\' ng-if=\'!fullsized.metadata.urls.Publishable && fullsized.metadata.html\' stretch=\'true\' embedit=\'fullsized.metadata.html\'></div>\n          <div class=\'embedded\' ng-if=\'!fullsized.metadata.urls.Publishable && fullsized.metadata.url && !fullsized.metadata.html\'>\n            <div class=\'image\' lazy-image size=\'contain\' src=\'fullsized.metadata.url\'></div>\n          </div>\n        </div>\n        <div class=\"box content\" ng-if=\'fullsized.type == \"text\"\'>\n          <div class=\'embedded\' stretch=\'true\' embedit=\'fullsized.metadata.caption\'></div>\n        </div>\n        \n        <div class=\"box sidebar\"></div>\n      </div>\n      <div class=\"footer\">\n        <div class=\'inner\' >\n          <div ng-if=\'fullsized.metadata.copyright\' class=\'text copyright\' embedit=\'fullsized.metadata.copyright\' language=\"language\" firstline=\'true\'></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/modals/mde-enrich.html","<div class=\"modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\" style=\"z-index: 1050; display: block;\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\" ng-show=\"title\">\n      <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"$hide()\">\n      <span aria-hidden=\"true\" class=\'icon-close\'></span>\n      </button>\n      <h4 class=\"modal-title\">add resource</h4></div>\n      \n      <div class=\"modal-body\">\n\n        \n        <!-- <input type=\'text\' class=\"form-control\" placeholder=\"search ...\"> -->\n        <ul class=\"nav nav-tabs\" style=\'padding-left:15px; margin-bottom:0\' role=\"tablist\">\n          <li role=\'presentation\' ng-class=\'{\"active\": _tab.name == tab.name}\' ng-repeat=\'_tab in tabs\'>\n            <a ng-click=\'setTab(_tab.name)\' translate=\'tab.{{_tab.name}}\' aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\"></a>\n          </li>\n        </ul>\n\n        \n          <div ng-show=\"tab.name == \'favourite\'\" class=\"tab-content\">\n            <div class=\'section padded\' ng-class=\'{\"last\": !lookups.length}\'>\n              <label>\n                <span translate=\'search\'></span>\n                <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n              </label>\n              <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 450 }\" ng-change=\'suggest(query)\'>\n            </div>\n            <div class=\'section last\'>\n              <ul class=\'list-of-documents\'><li ng-repeat=\'document in tab.items\' ng-include=\'\"templates/partials/embeds/document.html\"|prefixTemplate\'></li>\n              </ul>\n              <div class=\'more-wrapper\'>\n                <div ng-if=\'tab.items.length > 0 && tab.items.length < tab.count\' class=\"btn-line-group primary\">\n                  <button class=\'btn-line\' ng-click=\'more()\'>\n                    <span ng-if=\'!tab.isLoadingNextItems\'>\n                      <span translate=\'button.more\'></span>\n                      <span translate=\'missing\' translate-values=\"{count: tab.missing}\"></span>\n                    </span>\n                    <span ng-if=\'tab.isLoadingNextItems\' translate=\'button.loading\'></span>\n                  </button>\n                </div>\n                <!-- when count equals item length, we are at the end -->\n              </div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'glossary\'\" class=\"tab-content\">\n            <div class=\'section padded\' ng-class=\'{\"last\": !glossary.length}\'>\n              <label>\n                <span translate=\'search\'></span>\n                <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n              </label>\n              <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 250 }\" ng-change=\'suggest(query)\'>\n            </div>\n            <div class=\'section last\'>\n              <ul class=\'list-of-documents\'><li ng-repeat=\'term in tab.items\' ng-include=\'\"templates/partials/term.html\"|prefixTemplate\'></li>\n              </ul>\n              <div class=\'more-wrapper\'>\n                <div ng-if=\'tab.items.length > 0 && tab.items.length < tab.count\' class=\"btn-line-group primary\">\n                  <button class=\'btn-line\' ng-click=\'more()\'>\n                    <span ng-if=\'!tab.isLoadingNextItems\'>\n                      <span translate=\'button.more\'></span>\n                      <span translate=\'missing\' translate-values=\"{count: tab.missing}\"></span>\n                    </span>\n                    <span ng-if=\'tab.isLoadingNextItems\' translate=\'button.loading\'></span>\n                  </button>\n                </div>\n                <!-- when count equals item length, we are at the end -->\n              </div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'CVCE\'\" class=\"tab-content\">\n            <div class=\'section padded\' ng-class=\'{\"last\": !suggestResults.length}\'>\n              <label>\n                <span translate=\'search\'></span>\n                <span style=\'color: #b7b7b7\' translate=\'results.amount\' translate-values=\'{count: tab.count}\'></span>\n              </label>\n              <input placeholder=\'...\' class=\'form-control\' type=\'text\' ng-model=\'query\' ng-model-options=\"{ debounce: 250 }\" ng-change=\'suggest(query)\'>\n            </div>\n            <div class=\'section last\'>\n              <ul class=\'list-of-documents\'>\n                <li ng-repeat=\'document in tab.items\' ng-include=\'\"templates/partials/oembed-search-results.html\"|prefixTemplate\'>\n                </li>\n              </ul>\n              <div class=\'more-wrapper\'>\n                <div ng-if=\'tab.items.length > 0 && tab.items.length < tab.count\' class=\"btn-line-group primary\">\n                  <button class=\'btn-line\' ng-click=\'more()\'>\n                    <span ng-if=\'!tab.isLoadingNextItems\'>\n                      <span translate=\'button.more\'></span>\n                      <span translate=\'missing\' translate-values=\"{count: tab.missing}\"></span>\n                    </span>\n                    <span ng-if=\'tab.isLoadingNextItems\' translate=\'button.loading\'></span>\n                  </button>\n                </div>\n                <!-- when count equals item length, we are at the end -->\n              </div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'url\'\" class=\"tab-content\">\n            <div class=\'section padded\'>\n              <label translate=\'url\'></label>\n              <span style=\'color: #b7b7b7\' translate=\'{{suggestMessage}}\'></span>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea monospace\" rows=\"3\" msd-elastic ng-model=\'url\' ng-change=\'previewUrl(url)\' type=\'text\' placeholder=\'http://\'></textarea>\n              </div>\n              \n              \n\n              <div class=\'preview\' ng-show=\'embed.provider_name\' ng-class=\'embed.type\'>\n                <!-- <div ng-if=\'embed.provider_name==\"CVCE\"\' ng-include=\'\"templates/partials/embeds/cvce.html\"|prefixTemplate\'></div> -->\n                <!-- <div ng-if=\'embed.provider_name==\"YouTube\"\' ng-include=\'\"templates/partials/embeds/YouTube.html\"|prefixTemplate\'></div> -->\n                <div ng-if=\'embed.provider_name==\"Flickr\"\' ng-include=\'\"templates/partials/embeds/Flickr.html\"|prefixTemplate\'></div>\n                <div ng-if=\'embed.provider_name==\"Ina.fr\"\' ng-include=\'\"templates/partials/embeds/Ina.fr.html\"|prefixTemplate\'></div>\n\n                <div ng-if=\'embed.type == \"link\"\'>\n                  <p translate=\'enrich.url.noembedfound\'></p>\n                  <div embedit=\'embed.description\'></div>\n                </div>\n                <div ng-if=\'embed.type == \"rich\" || embed.type == \"video\"\'>\n                  <div ng-if=\'embed.html\' style=\'height: 200px; width: 100%\' embedit=\'embed.html\' stretch=\"true\"></div>\n                  <div ng-if=\'!embed.title\' translate=\'enrich.type.notitle\'></div>\n                </div>\n              </div>\n            </div>\n            <div class=\'section padded\'>\n              <label>\n                <div translate=\'enrich.url.iframe.description\'></div>\n                <span ng-if=\'!url\' translate=\'enrich.url.embedRequiresUrl\'></span><span ng-if=\'url && !isUrlValid\' translate=\'enrich.url.notvalid\'></span>\n              </label>\n              <div class=\'elastic-textarea-wrapper\' ng-class=\'{\"disabled\": !isUrlValid}\'>\n                <textarea class=\"elastic-textarea monospace limited\" ng-change=\'tab.onEmbedChange()\' ng-disabled=\'!isUrlValid\' rows=\"3\" msd-elastic  ng-model=\'embed.html\' type=\'text\' placeholder=\'\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded\'>\n              <label translate=\'title\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" rows=\"3\" msd-elastic ng-model=\'embed.title\' type=\'text\' placeholder=\'untitled\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded last\'>\n              <label translate=\'bibtex reference\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea bibtex\" rows=\"3\" msd-elastic ng-model=\'reference\' type=\'text\' placeholder=\'@{}\'></textarea>\n              </div>\n              <div class=\'sans-serif description\' translate=\'bibtex.howto\'></div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'upload\'\" class=\"tab-content\">\n            <div class=\'section padded\'>\n              <div class=\'drop-box-form-wrapper\'>\n                <form name=\"createForm\" novalidate class=\"simple-form\">\n                  <div ng-show=\'!uploadablefile.size\'>\n                    <div ngf-drop ngf-select ng-model=\"uploadable\" class=\"drop-box sans-serif\" \n                         ngf-drag-over-class=\"\'dragover\'\" ngf-multiple=\"false\" ngf-allow-dir=\"true\"\n                         accept=\"image/*,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document\" \n                         ngf-pattern=\"\'image/*,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document\'\"><span translate=\"drop.to.upload\"></span>\n                    </div>\n                  </div>\n                  <div class=\"uploadable\" ng-show=\'uploadablefile.size\'>  \n                    <div ng-if=\'!uploadablefile.document\'>\n                      <span>{{uploadablefile.name}}</span>\n                      <span>{{uploadablefile.type}}</span>\n                      <span>{{uploadablefile.size}}</span>\n                      <div class=\'btn-line-group\'><a class=\'btn-line\' ng-click=\'undo()\' translate=\'button.undo\'></a></div>\n                      \n                    </div>\n                    <div class=\"loading-bar\" style=\'width:{{uploadablefile.progressPercentage|| 0}}%\'></div>\n                    \n                    <div class=\'doc-uploaded\' ng-if=\'uploadablefile.document\' ng-init=\'document=uploadablefile.document\'>\n                      <div class=\"row\">\n                        <div class=\"col-sm-5\">\n                          <div class=\"cover\" style=\'height: 180px;\' lazy-img=\'{{document.snapshot}}\'></div>\n                        </div>\n                        <div class=\"col-sm-7\">\n                          <div class=\'title sans-serif\' embedit=\'document.metadata.title\'></div>\n                          <div class=\'copyright\' embedit=\'document.metadata.copyright\'></div>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </form>\n              </div>\n              <div ngf-no-file-drop><span translate=\'feature.unsupported.dragdrop\'></span></div>\n            </div>\n            <!-- @todo -->\n            <div class=\'section padded\' ng-show=\'!uploadablefile.document\'>\n\n              <label translate=\'title\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" rows=\"3\" msd-elastic ng-model=\'uploadablefile.title\' type=\'text\' placeholder=\'untitled\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded\' ng-show=\'!uploadablefile.document\'>\n              <label translate=\'copyright\'></label>\n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" rows=\"3\" msd-elastic ng-model=\'uploadablefile.copyright\' type=\'text\' placeholder=\'untitled\'></textarea>\n              </div>\n            </div>\n            <div class=\'section padded last\' ng-show=\'!uploadablefile.document\'>\n              <label translate=\'bibtex reference\'></label>\n              <div class=\'sans-serif description\' translate=\'bibtex.howto\'></div> \n              <div class=\'elastic-textarea-wrapper\'>\n                <textarea class=\"elastic-textarea\" style=\'max-height: 200px;\' rows=\"3\" msd-elastic ng-model=\'reference\' type=\'text\' placeholder=\'@{}\'></textarea>\n              </div>\n              \n            </div>\n            <div class=\'section padded last center\' ng-show=\'!uploadablefile.document\'>\n              <div class=\'btn-line-group\' ng-class=\'{\"primary\":uploadablefile.size}\'>\n                <button class=\'btn-line\' ng-click=\'upload()\' translate=\'button.upload\'></button>\n              </div>\n            </div>\n          </div>\n\n          <div ng-show=\"tab.name == \'iframe\'\" class=\"tab-content\">\n            <!-- @todo -->\n          </div>\n\n          <div ng-show=\"tab.name == \'bibtex\'\" class=\"tab-content\">\n            <span translate=\'bibtex.howto\'></span>\n            <label translate=\'bibtex\'></label>\n            <div class=\'elastic-textarea-wrapper\'>\n              <textarea class=\"elastic-textarea\" style=\"font-family: monospace;\" rows=\"8\" msd-elastic ng-model=\'reference\' type=\'text\' placeholder=\'@BOOK {}\'></textarea>\n            </div>\n          </div>\n          <div style=\'clear:both\'></div>\n\n\n      </div>\n      <div class=\"modal-footer\">\n        <span class=\'btn-line-group\' ng-class=\'{\"primary\": isSomethingSelected}\'>\n          <button type=\"button\" class=\"btn-line\" ng-class=\'{\"active\": isSomethingSelected}\' ng-click=\"addDocument(tab.name, contents, reference, url, embed)\" translate=\'button.add\'></button>\n        </span>\n        <span class=\'btn-line-group\'>\n        <button type=\"button\" class=\"btn-line\" ng-click=\"$hide()\">Close</button>\n        </span>\n      </div>\n    </div>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/embeds/Flickr.html","<div style=\'margin: 0; background-color:#f0f0f0; padding: 15px 0\' class=\'row\'>\n  <div class=\'col-sm-5\'>\n    <div class=\'image-wrapper\' style=\'height: 150px\'>\n      <div lazy-img=\'{{embed.media_url}}\' class=\'cover\' style=\'height: 150px\'/>\n    </div>\n  </div>\n  <div class=\'col-sm-7\'>\n    <div class=\'caption title\' embedit=\'embed.title\'></div>\n    <div class=\'copyright\'><a ng-href=\'embed.author_url\' target=\'_blank\'>{{embed.author_name}}</a></div>\n    <span translate=\'remote.url\'></span>: <a ng-href=\'{{embed.url}}\' target=\'_blank\' translate=\'remote.url.placeholder\'></a>\n  </div>\n</div>");
$templateCache.put("/static/templates/partials/embeds/Ina.fr.html","<div class=\'caption title\' embedit=\'embed.title\'></div>\n<div class=\'caption reference\' embedit=\'embed.description\'></div>\n<img lazy-img src=\'{{embed.thumbnail_url}}\' />\n\n");
$templateCache.put("/static/templates/partials/embeds/YouTube.html","\n<div class=\'caption title\' markdown=\'embed.title\'></div>\n<div class=\'copyright\'><a ng-href=\'embed.author_url\'>{{embed.author_name}}</a></div>\n\n\n<div lazy-image src=\'embed.thumbnail_url\'></div>\n\n");
$templateCache.put("/static/templates/partials/embeds/cvce.html","\n<div class=\'caption title\' markdown=\'embed.title.fr\'></div>\n<div class=\'caption reference\' markdown=\'embed.reference.fr\'></div>\n<div class=\'copyright\'>{{embed.copyrights}}</div>\n\n\n <div ng-if=\'embed.urls.Preview\'>\n  <div lazy-image src=\'embed.urls.Preview\'></div>\n </div>\n\n");
$templateCache.put("/static/templates/partials/embeds/document.html","<div class=\'oembedded doc doc-{{document.type}}\' ng-class=\'{\"active\": document.id == selectedDocument.id}\' ng-click=\'selectDocument(document)\'>\n\n  <!-- <div class=\'divider\'>&nbsp;</div> -->\n  \n  <div class=\'wrapper\'>\n    <div ng-if=\'document.metadata\'>\n      <div src=\'document.metadata.thumbnail_url || document.metadata.urls.Preview || document.snapshot || document.metadata.url\' lazy-image></div>\n      <!-- <div ng-if=\'document.metadata.thumbnail_url\' lazy-image src=\'document.metadata.thumbnail_url\'></div>\n\n      <div ng-if=\'!document.metadata.thumbnail_url && document.metadata.urls.Preview\' lazy-image src=\'document.metadata.urls.Preview\'></div>\n\n      <div ng-if=\'!document.metadata.thumbnail_url && !document.metadata.urls.Preview\' class=\'lazy-box\'></div>\n -->\n      <div class=\'tile\'>\n        <div class=\'title\' embedit=\'document.metadata.title\' language=\'language\'></div>\n        <div class=\'copyright\' embedit=\'document.metadata.copyright\'></div>\n      </div>\n    </div>\n    <div ng-if=\'!document.metadata\'>\n      <div ng-if=\'document.urls.Preview\' lazy-image src=\'document.urls.Preview\'></div>\n      <div ng-if=\'document.src\' lazy-image src=\'document.src\'></div>\n      <!-- {{document}} -->\n      <div class=\'tile\'>\n        <div class=\'title\' embedit=\'document.title\'></div>\n        <div class=\'copyright\' embedit=\'document.copyright\'></div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\'excerpt\'><span class=\'type\'>{{document.type}}</span> <span embedit=\'document.title\'></span></div>\n</div>");}]);